<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Progress Quest</title>
	<style>
		* {
			transition: background 0.5s, color 0.5s, border-color 0.5s;
		}
		
		body {
			margin: 0;
			padding: 20px;
			font-family: 'Comic Sans MS', cursive;
			color: #fff;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			min-height: 100vh;
			overflow-x: hidden;
		}
		
		.theme-selector {
			position: fixed;
			top: 20px;
			right: 20px;
			z-index: 1000;
		}
		
		.theme-button {
			padding: 8px 16px;
			margin: 5px;
			border: 2px solid rgba(255, 255, 255, 0.5);
			border-radius: 20px;
			background: rgba(0, 0, 0, 0.3);
			color: #fff;
			cursor: pointer;
			font-size: 12px;
			backdrop-filter: blur(10px);
			font-weight: bold;
		}
		
		.theme-button:hover {
			background: rgba(255, 255, 255, 0.2);
			transform: scale(1.05);
		}
		
		.theme-button.active {
			border-color: #fff;
			background: rgba(255, 255, 255, 0.3);
		}
		
		.container {
			text-align: center;
			max-width: 900px;
			padding: 60px;
			border-radius: 30px;
			margin-top: 60px;
			position: relative;
			z-index: 10;
		}
		
		h1 {
			font-family: 'Comic Sans MS', cursive;
			font-size: 56px;
			margin-bottom: 40px;
			color: #fff;
			text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
			letter-spacing: 2px;
		}
		
		.level {
			font-family: 'Comic Sans MS', cursive;
			font-size: 140px;
			font-weight: bold;
			margin: 40px 0;
			animation: pulse 2s ease-in-out infinite;
		}
		
		@keyframes pulse {
			0%, 100% { transform: scale(1); }
			50% { transform: scale(1.05); }
		}
		@keyframes rainbow {
			0% { background-position: 0% 50%; }
			50% { background-position: 100% 50%; }
			100% { background-position: 0% 50%; }
		}
		
		.speed {
			font-size: 36px;
			margin: 30px 0;
			font-weight: 300;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
		}
		
		.speed span {
			font-weight: 700;
			font-size: 42px;
		}
		
		.info {
			font-size: 20px;
			margin-top: 50px;
			line-height: 1.8;
			font-weight: 300;
		}
		
		.progress-bar {
			width: 100%;
			height: 50px;
			border-radius: 25px;
			overflow: hidden;
			margin: 40px 0;
			box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
		}
		
		.progress-fill {
			height: 100%;
			width: 0%;
			transition: width 0.1s linear;
		}
		
		.sprites {
			position: fixed;
			width: 100%;
			height: 100%;
			top: 0;
			left: 0;
			pointer-events: none;
			z-index: 1;
		}
		
		.sprite {
			position: absolute;
			font-size: 60px;
			opacity: 0.6;
			animation: float 3s ease-in-out infinite;
			display: none;
			pointer-events: auto;
			cursor: pointer;
		}
		
		@keyframes float {
			0%, 100% { transform: translateY(0px) rotate(0deg); }
			50% { transform: translateY(-20px) rotate(5deg); }
		}
		
		/* Theme: Minimalist Clean */
		body.theme-minimal {
			background: #ffffff;
		}
		body.theme-minimal .container {
			background: #ffffff;
			border: 1px solid #e0e0e0;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
		}
		body.theme-minimal h1 {
			color: #000;
			text-shadow: none;
		}
		body.theme-minimal .level {
			color: #000;
			text-shadow: none;
			-webkit-text-fill-color: #000;
		}
		body.theme-minimal .speed {
			color: #000;
		}
		body.theme-minimal .speed span {
			color: #000;
		}
		body.theme-minimal .info {
			color: #000;
		}
		body.theme-minimal .progress-bar {
			background: #f0f0f0;
			border: 1px solid #000;
		}
		body.theme-minimal .progress-fill {
			background: #000;
			box-shadow: none;
		}
		body.theme-minimal .theme-button {
			border-color: #000;
			color: #000;
			background: rgba(255, 255, 255, 0.9);
		}
		body.theme-minimal .theme-button.active {
			background: #000;
			color: #fff;
		}
		
		/* Theme: Glitch Matrix */
		body.theme-glitch {
			background: #000;
			position: relative;
			overflow: hidden;
		}
		body.theme-glitch::before {
			content: '';
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: repeating-linear-gradient(
				0deg,
				rgba(0, 255, 0, 0.03),
				rgba(0, 255, 0, 0.03) 1px,
				transparent 1px,
				transparent 2px
			);
			animation: scanlines 0.1s linear infinite;
			pointer-events: none;
			z-index: 2;
		}
		@keyframes scanlines {
			0% { transform: translateY(0); }
			100% { transform: translateY(4px); }
		}
		body.theme-glitch .container {
			background: rgba(0, 0, 0, 0.9);
			border: 2px solid #00ff00;
			box-shadow: 0 0 20px #00ff00, inset 0 0 20px rgba(0, 255, 0, 0.1);
			position: relative;
		}
		body.theme-glitch .container::before {
			content: '';
			position: absolute;
			top: 0;
			left: -2px;
			width: calc(100% + 4px);
			height: calc(100% + 4px);
			background: linear-gradient(
				90deg,
				transparent,
				rgba(0, 255, 0, 0.1) 50%,
				transparent
			);
			animation: glitch 3s infinite;
		}
		@keyframes glitch {
			0%, 100% { transform: translateX(0); opacity: 1; }
			10% { transform: translateX(-2px); opacity: 0.8; }
			20% { transform: translateX(2px); opacity: 0.9; }
			30% { transform: translateX(-1px); opacity: 1; }
			40% { transform: translateX(1px); opacity: 0.8; }
			50% { transform: translateX(0); opacity: 1; }
		}
		body.theme-glitch h1 {
			color: #00ff00;
			text-shadow: 0 0 10px #00ff00, 0 0 20px #00ff00;
			animation: textGlitch 4s infinite;
		}
		@keyframes textGlitch {
			0%, 100% { transform: translateX(0); }
			25% { transform: translateX(-1px); }
			50% { transform: translateX(1px); }
			75% { transform: translateX(-1px); }
		}
		body.theme-glitch .level {
			color: #00ff00;
			text-shadow: 0 0 20px #00ff00, 0 0 40px #00ff00;
			-webkit-text-fill-color: #00ff00;
			font-family: 'Courier New', monospace;
		}
		body.theme-glitch .speed {
			color: #00ff00;
		}
		body.theme-glitch .speed span {
			color: #00ff41;
			text-shadow: 0 0 10px #00ff41;
		}
		body.theme-glitch .info {
			color: #00cc00;
		}
		body.theme-glitch .progress-bar {
			background: rgba(0, 255, 0, 0.1);
			border: 2px solid #00ff00;
			box-shadow: 0 0 10px #00ff00;
		}
		body.theme-glitch .progress-fill {
			background: linear-gradient(90deg, #00ff00, #00ff41, #00ff00);
			box-shadow: 0 0 20px #00ff00;
		}
		body.theme-glitch .sprite {
			display: block;
		}
		body.theme-glitch .sprite:nth-child(1) { top: 15%; left: 8%; animation-delay: 0s; }
		body.theme-glitch .sprite:nth-child(2) { bottom: 20%; right: 8%; animation-delay: 1s; }
		body.theme-glitch .sprite:nth-child(3) { top: 65%; left: 10%; animation-delay: 2s; }
		body.theme-glitch .sprite::before { content: ''; }
		
		.matrix-canvas {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			pointer-events: none;
			z-index: 1;
			opacity: 0.3;
		}
		body.theme-glitch .matrix-canvas {
			display: block;
		}
		body.theme-minimal .matrix-canvas {
			display: none;
		}
		body.theme-colorful .matrix-canvas {
			display: none;
		}
		body.theme-demon .matrix-canvas {
			display: none;
		}
		
		/* Theme: Colorful */
		body.theme-colorful {
			background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
			background-size: 400% 400%;
			animation: rainbow 8s ease infinite;
		}
		body.theme-colorful .container {
			background: rgba(255, 255, 255, 0.25);
			border: 3px solid #fff;
			backdrop-filter: blur(15px);
			box-shadow: 0 8px 32px rgba(255, 255, 255, 0.3);
		}
		body.theme-colorful h1 {
			background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
			background-size: 400% 400%;
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			animation: rainbow 3s ease infinite;
		}
		body.theme-colorful .level {
			background: linear-gradient(45deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
			background-size: 400% 400%;
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			animation: rainbow 2s ease infinite, pulse 2s ease-in-out infinite;
		}
		body.theme-colorful .speed {
			color: #fff;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
		}
		body.theme-colorful .speed span {
			background: linear-gradient(45deg, #ffff00, #ff00ff);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
			font-weight: 700;
		}
		body.theme-colorful .info {
			color: rgba(255, 255, 255, 0.95);
			text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
		}
		body.theme-colorful .progress-bar {
			background: rgba(255, 255, 255, 0.4);
			border: 2px solid #fff;
		}
		body.theme-colorful .progress-fill {
			background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3);
			background-size: 400% 100%;
			animation: rainbow 2s linear infinite;
			box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
		}
		body.theme-colorful .sprite {
			display: block;
		}
		body.theme-colorful .sprite:nth-child(1) { top: 20%; left: 5%; animation-delay: 0s; }
		body.theme-colorful .sprite:nth-child(2) { bottom: 25%; right: 5%; animation-delay: 1.2s; }
		body.theme-colorful .sprite:nth-child(3) { top: 60%; left: 95%; animation-delay: 0.6s; }
		body.theme-colorful .sprite::before { content: ''; }
		
		/* Theme: Demon */
		body.theme-demon {
			background: linear-gradient(180deg, #000000 0%, #1a0000 30%, #330000 60%, #660000 100%);
			position: relative;
		}
		body.theme-demon::before {
			content: '';
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: 
				radial-gradient(circle at 20% 30%, rgba(255, 0, 0, 0.1), transparent),
				radial-gradient(circle at 80% 70%, rgba(139, 0, 0, 0.1), transparent);
			pointer-events: none;
			animation: flicker 3s infinite;
		}
		@keyframes flicker {
			0%, 100% { opacity: 1; }
			50% { opacity: 0.8; }
		}
		body.theme-demon .container {
			background: rgba(0, 0, 0, 0.7);
			border: 3px solid #8b0000;
			box-shadow: 0 0 40px #ff0000, inset 0 0 30px rgba(139, 0, 0, 0.3);
		}
		body.theme-demon h1 {
			color: #ff3300;
			text-shadow: 0 0 20px #ff0000, 0 0 40px #ff3300, 0 0 60px #8b0000;
			animation: demonGlow 2s ease-in-out infinite;
		}
		@keyframes demonGlow {
			0%, 100% { text-shadow: 0 0 20px #ff0000, 0 0 40px #ff3300, 0 0 60px #8b0000; }
			50% { text-shadow: 0 0 30px #ff6600, 0 0 50px #ff3300, 0 0 70px #ff0000; }
		}
		body.theme-demon .level {
			color: #ff6600;
			text-shadow: 0 0 30px #ff3300, 0 0 50px #ff0000, 0 0 70px #8b0000;
			-webkit-text-fill-color: #ff6600;
			font-family: 'Comic Sans MS', cursive;
		}
		body.theme-demon .speed {
			color: #ff3300;
		}
		body.theme-demon .speed span {
			color: #ff9900;
			text-shadow: 0 0 15px #ff3300, 0 0 25px #ff0000;
		}
		body.theme-demon .info {
			color: #cc0000;
		}
		body.theme-demon .progress-bar {
			background: rgba(139, 0, 0, 0.3);
			border: 2px solid #ff3300;
			box-shadow: 0 0 15px #ff0000;
		}
		body.theme-demon .progress-fill {
			background: linear-gradient(90deg, #8b0000, #ff3300, #ff6600, #ff3300, #8b0000);
			box-shadow: 0 0 30px #ff3300, 0 0 50px #ff0000;
			animation: demonPulse 1.5s ease-in-out infinite;
		}
		@keyframes demonPulse {
			0%, 100% { box-shadow: 0 0 30px #ff3300, 0 0 50px #ff0000; }
			50% { box-shadow: 0 0 40px #ff6600, 0 0 60px #ff3300; }
		}
		body.theme-demon .sprite {
			display: block;
		}
		body.theme-demon .sprite:nth-child(1) { top: 18%; left: 7%; animation-delay: 0s; }
		body.theme-demon .sprite:nth-child(2) { bottom: 22%; right: 7%; animation-delay: 1.3s; }
		body.theme-demon .sprite:nth-child(3) { top: 50%; left: 92%; animation-delay: 0.7s; }
		body.theme-demon .sprite::before { content: ''; }

		/* Achievements */
		.achievements-btn {
			position: fixed;
			top: 20px;
			left: 20px;
			z-index: 1000;
			padding: 10px 18px;
			border: 2px solid rgba(255, 255, 255, 0.5);
			border-radius: 20px;
			background: rgba(0, 0, 0, 0.3);
			color: #fff;
			cursor: pointer;
			font-size: 14px;
			font-weight: bold;
			backdrop-filter: blur(10px);
		}
		.achievements-btn:hover {
			background: rgba(255, 255, 255, 0.2);
			transform: scale(1.05);
		}
		.achievements-panel {
			display: none;
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 90%;
			max-width: 420px;
			max-height: 80vh;
			background: rgba(0, 0, 0, 0.9);
			border: 3px solid rgba(255, 255, 255, 0.5);
			border-radius: 20px;
			padding: 20px;
			z-index: 2000;
			overflow: hidden;
			box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
		}
		.achievements-panel.open {
			display: flex;
			flex-direction: column;
		}
		.achievements-panel h2 {
			margin: 0 0 12px 0;
			font-size: 24px;
			color: #fff;
			text-align: center;
		}
		.achievements-list {
			overflow-y: auto;
			flex: 1;
			padding-right: 8px;
		}
		.achievement-item {
			padding: 8px 12px;
			margin: 6px 0;
			border-radius: 10px;
			font-size: 13px;
			opacity: 0.5;
			border: 1px solid rgba(255,255,255,0.2);
		}
		.achievement-item.unlocked {
			opacity: 1;
			background: rgba(255, 255, 255, 0.1);
			border-color: rgba(255, 215, 0, 0.5);
			box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
		}
		.achievement-item .name { font-weight: bold; color: #fff; }
		.achievement-item .desc { font-size: 11px; color: rgba(255,255,255,0.7); margin-top: 2px; }
		.achievement-item:not(.unlocked) .desc { color: rgba(255,255,255,0.4); }
		.achievements-close {
			margin-top: 12px;
			padding: 10px;
			border: 2px solid rgba(255,255,255,0.5);
			border-radius: 12px;
			background: rgba(255,255,255,0.1);
			color: #fff;
			cursor: pointer;
			font-weight: bold;
		}
		.achievements-close:hover { background: rgba(255,255,255,0.2); }
		.achievements-reset {
			margin-top: 8px;
			padding: 6px 12px;
			border: 1px solid rgba(255,100,100,0.6);
			border-radius: 8px;
			background: rgba(255,80,80,0.15);
			color: rgba(255,200,200,0.9);
			cursor: pointer;
			font-size: 12px;
		}
		.achievements-reset:hover { background: rgba(255,80,80,0.25); }
		.achievements-backdrop {
			display: none;
			position: fixed;
			inset: 0;
			background: rgba(0,0,0,0.5);
			z-index: 1999;
		}
		.achievements-backdrop.open { display: block; }

		/* Secret button - tiny, almost invisible */
		.secret-btn {
			position: fixed;
			bottom: 12px;
			left: 12px;
			width: 8px;
			height: 8px;
			padding: 0;
			border: none;
			border-radius: 50%;
			background: rgba(255, 255, 255, 0.08);
			cursor: pointer;
			z-index: 999;
		}
		.secret-btn:hover {
			background: rgba(255, 255, 255, 0.2);
			transform: scale(1.5);
		}
	</style>
</head>
<body class="theme-minimal">
	<canvas class="matrix-canvas" id="matrixCanvas"></canvas>
	
	<div class="sprites">
		<div class="sprite"></div>
		<div class="sprite"></div>
		<div class="sprite"></div>
	</div>
	
	<button class="secret-btn" id="secretBtn" title=""></button>
	<button class="achievements-btn" id="achievementsBtn">üèÜ Achievements</button>
	<div class="achievements-backdrop" id="achievementsBackdrop"></div>
	<div class="achievements-panel" id="achievementsPanel">
		<h2>üèÜ Achievements</h2>
		<div class="achievements-list" id="achievementsList"></div>
		<button class="achievements-close" id="achievementsClose">Close</button>
		<button class="achievements-reset" id="achievementsReset">Reset progress</button>
	</div>

	<div class="theme-selector">
		<button class="theme-button active" data-theme="minimal">Minimal</button>
		<button class="theme-button" data-theme="glitch">Glitch</button>
		<button class="theme-button" data-theme="colorful">Colorful</button>
		<button class="theme-button" data-theme="demon">Demon</button>
	</div>
	
	<div class="container">
		<h1>PROGRESS QUEST</h1>
		<div class="level" id="level">0</div>
		<div class="speed">Speed: <span id="speed">1</span> per second</div>
		<div class="progress-bar">
			<div class="progress-fill" id="progress"></div>
		</div>
		<div class="info">
			The higher you go, the <span id="fasterWord">FASTER</span> you go!<br>
			Just sit back and watch the numbers grow...
		</div>
	</div>

	<script>
		// Progress Quest - Speed increases with level. 50 achievements: milestones + easter eggs.

		let level = 0;
		let lastUpdate = Date.now();
		let totalTimeSeconds = parseFloat(localStorage.getItem('progressQuestTime') || '0');
		let lastTimeSave = 0;
		let unlockedAchievements = JSON.parse(localStorage.getItem('progressQuestAchievements') || '[]');
		const levelElement = document.getElementById('level');
		const speedElement = document.getElementById('speed');
		const progressElement = document.getElementById('progress');
		const body = document.body;

		const secrets = {
			foundSecretButton: false,
			titleClicks: 0,
			progressBarClicks: 0,
			cornerClicks: 0,
			rightClicks: 0,
			konami: false,
			typedBo: false,
			typedSecret: false,
			levelClicks: 0,
			speedClicks: 0,
			themeChanges: 0,
			achievementsOpened: 0,
			achievementsClosed: 0,
			spriteClicks: 0,
			progressFillClicks: 0,
			fasterWordClicks: 0,
			resizeCount: 0,
			spacePresses: 0,
			escapePresses: 0,
			achievementsBtnClicks: 0,
			doubleClickLevel: false,
			doubleClickProgress: false,
			rightClickTitle: false,
			konamiSequence: [],
		};
		const KONAMI = [38, 38, 40, 40, 37, 39, 37, 39, 66, 65];

		const ACHIEVEMENTS = [
			// Easter eggs
			{ id: 'secret_button', name: 'Find the Secret Button', desc: 'There\'s a tiny secret button somewhere...', check: () => secrets.foundSecretButton },
			{ id: 'title_tapper', name: 'Title Tapper', desc: 'Click the title 10 times', check: () => secrets.titleClicks >= 10 },
			{ id: 'progress_bar_pro', name: 'Progress Bar Pro', desc: 'Click the progress bar 5 times', check: () => secrets.progressBarClicks >= 5 },
			{ id: 'konami_code', name: 'Konami Code', desc: '‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA', check: () => secrets.konami },
			{ id: 'corner_explorer', name: 'Corner Explorer', desc: 'Click the bottom-right corner 3 times', check: () => secrets.cornerClicks >= 3 },
			{ id: 'right_click_master', name: 'Right-Click Master', desc: 'Right-click 7 times', check: () => secrets.rightClicks >= 7 },
			{ id: 'bo_knows', name: 'Bo Knows', desc: 'Type "bo"', check: () => secrets.typedBo },
			{ id: 'secret_typist', name: 'Secret Typist', desc: 'Type "secret"', check: () => secrets.typedSecret },
			{ id: 'level_lover', name: 'Level Lover', desc: 'Double-click the level number', check: () => secrets.doubleClickLevel },
			{ id: 'speed_reader', name: 'Speed Reader', desc: 'Click the speed text 3 times', check: () => secrets.speedClicks >= 3 },
			{ id: 'theme_explorer', name: 'Theme Explorer', desc: 'Try all 4 themes', check: () => secrets.themeChanges >= 4 },
			{ id: 'achievement_menu_fan', name: 'Achievement Menu Fan', desc: 'Open achievements 3 times', check: () => secrets.achievementsOpened >= 3 },
			{ id: 'sprite_clicker', name: 'Sprite Clicker', desc: 'Click on a floating sprite', check: () => secrets.spriteClicks >= 1 },
			{ id: 'spammer', name: 'Spammer', desc: 'Click the title 50 times', check: () => secrets.titleClicks >= 50 },
			{ id: 'double_progress', name: 'Double Progress', desc: 'Double-click the progress bar', check: () => secrets.doubleClickProgress },
			{ id: 'reader', name: 'Reader', desc: 'Click the word FASTER', check: () => secrets.fasterWordClicks >= 1 },
			{ id: 'window_resizer', name: 'Window Resizer', desc: 'Resize the window 3 times', check: () => secrets.resizeCount >= 3 },
			{ id: 'closer', name: 'Closer', desc: 'Close the achievements panel 5 times', check: () => secrets.achievementsClosed >= 5 },
			{ id: 'space_bar', name: 'Space Bar', desc: 'Press space 20 times', check: () => secrets.spacePresses >= 20 },
			{ id: 'escape_artist', name: 'Escape Artist', desc: 'Press Escape 5 times', check: () => secrets.escapePresses >= 5 },
			{ id: 'button_masher', name: 'Button Masher', desc: 'Click the Achievements button 10 times', check: () => secrets.achievementsBtnClicks >= 10 },
			{ id: 'lucky_seven', name: 'Lucky Seven', desc: 'Click the level number 7 times', check: () => secrets.levelClicks >= 7 },
			{ id: 'fill_clicker', name: 'Fill Clicker', desc: 'Click the moving progress fill', check: () => secrets.progressFillClicks >= 1 },
			{ id: 'right_title', name: 'Right Title', desc: 'Right-click the title', check: () => secrets.rightClickTitle },
			{ id: 'theme_collector', name: 'Theme Collector', desc: 'Change theme 10 times', check: () => secrets.themeChanges >= 10 },
			{ id: 'sneaky', name: 'Sneaky', desc: 'You found something that wasn\'t obvious', check: () => secrets.foundSecretButton },
			{ id: 'curious', name: 'Curious', desc: 'Click on something that floats', check: () => secrets.spriteClicks >= 1 },
			{ id: 'keyboard_wizard', name: 'Keyboard Wizard', desc: 'You know the code', check: () => secrets.konami },
			// Milestones (level / speed / time)
			{ id: 'first_step', name: 'First Step', desc: 'Reach level 1', check: (l, s, t) => l >= 1 },
			{ id: 'double_digits', name: 'Double Digits', desc: 'Reach level 10', check: (l, s, t) => l >= 10 },
			{ id: 'century', name: 'Century', desc: 'Reach level 100', check: (l, s, t) => l >= 100 },
			{ id: 'one_thousand', name: 'One Thousand', desc: 'Reach level 1,000', check: (l, s, t) => l >= 1000 },
			{ id: 'ten_thousand', name: 'Ten Thousand', desc: 'Reach level 10,000', check: (l, s, t) => l >= 10000 },
			{ id: 'hundred_thousand', name: 'Hundred Thousand', desc: 'Reach level 100,000', check: (l, s, t) => l >= 100000 },
			{ id: 'million', name: 'Million', desc: 'Reach level 1,000,000', check: (l, s, t) => l >= 1e6 },
			{ id: 'billion', name: 'Billion', desc: 'Reach level 1 billion', check: (l, s, t) => l >= 1e9 },
			{ id: 'speed_demon', name: 'Speed Demon', desc: 'Reach speed 10/sec', check: (l, s, t) => s >= 10 },
			{ id: 'speedster', name: 'Speedster', desc: 'Reach speed 100/sec', check: (l, s, t) => s >= 100 },
			{ id: 'warp_speed', name: 'Warp Speed', desc: 'Reach speed 10,000/sec', check: (l, s, t) => s >= 10000 },
			{ id: 'one_minute', name: 'One Minute', desc: 'Play for 1 minute', check: (l, s, t) => t >= 60 },
			{ id: 'ten_minutes', name: 'Ten Minutes', desc: 'Play for 10 minutes', check: (l, s, t) => t >= 600 },
			{ id: 'one_hour', name: 'One Hour', desc: 'Play for 1 hour', check: (l, s, t) => t >= 3600 },
			{ id: 'the_numbers_go_up', name: 'The Numbers Go Up', desc: 'You get it.', check: (l, s, t) => l >= 2 },
			{ id: 'still_watching', name: 'Still Watching?', desc: '2 minutes in', check: (l, s, t) => t >= 120 },
			{ id: 'go_outside', name: 'No Really, Go Outside', desc: '10 minutes in', check: (l, s, t) => t >= 600 },
			{ id: 'void_stares', name: 'The Void Stares Back', desc: '1 hour played and level 10,000', check: (l, s, t) => t >= 3600 && l >= 10000 },
			{ id: 'quick_tapper', name: 'Quick Tapper', desc: 'Click the title 3 times', check: () => secrets.titleClicks >= 3 },
			{ id: 'five_minutes', name: 'Five Minutes', desc: 'Play for 5 minutes', check: (l, s, t) => t >= 300 },
			{ id: 'half_hour', name: 'Half Hour', desc: 'Play for 30 minutes', check: (l, s, t) => t >= 1800 },
			{ id: 'achievement_fanatic', name: 'Achievement Fanatic', desc: 'Open the achievements panel 5 times', check: () => secrets.achievementsOpened >= 5 },
		];

		function checkAchievements() {
			const speed = getSpeed(level);
			let changed = false;
			ACHIEVEMENTS.forEach(a => {
				if (unlockedAchievements.includes(a.id)) return;
				if (a.check(level, speed, totalTimeSeconds)) {
					unlockedAchievements.push(a.id);
					changed = true;
				}
			});
			if (changed) {
				localStorage.setItem('progressQuestAchievements', JSON.stringify(unlockedAchievements));
				renderAchievementsList();
			}
		}
		function renderAchievementsList() {
			const list = document.getElementById('achievementsList');
			list.innerHTML = ACHIEVEMENTS.map(a => {
				const un = unlockedAchievements.includes(a.id);
				return '<div class="achievement-item' + (un ? ' unlocked' : '') + '"><div class="name">' + (un ? '‚úì ' : '??? ') + a.name + '</div><div class="desc">' + a.desc + '</div></div>';
			}).join('');
		}
		document.getElementById('achievementsBtn').addEventListener('click', () => {
			document.getElementById('achievementsPanel').classList.add('open');
			document.getElementById('achievementsBackdrop').classList.add('open');
		});
		document.getElementById('achievementsClose').addEventListener('click', closeAchievements);
		document.getElementById('achievementsBackdrop').addEventListener('click', closeAchievements);
		document.getElementById('achievementsReset').addEventListener('click', () => {
			if (!confirm('Reset everything? Level, time, and achievements will go back to zero.')) return;
			level = 0;
			totalTimeSeconds = 0;
			lastTimeSave = 0;
			unlockedAchievements = [];
			localStorage.removeItem('progressQuestTime');
			localStorage.removeItem('progressQuestAchievements');
			levelElement.textContent = '0';
			speedElement.textContent = '1';
			progressElement.style.width = '0%';
			renderAchievementsList();
			closeAchievements();
		});
		function closeAchievements() {
			document.getElementById('achievementsPanel').classList.remove('open');
			document.getElementById('achievementsBackdrop').classList.remove('open');
		}
		renderAchievementsList();

		// Theme switching
		const themeButtons = document.querySelectorAll('.theme-button');
		const savedTheme = localStorage.getItem('progressQuestTheme') || 'minimal';
		
		function setTheme(theme) {
			body.className = 'theme-' + theme;
			localStorage.setItem('progressQuestTheme', theme);
			themeButtons.forEach(btn => {
				btn.classList.toggle('active', btn.dataset.theme === theme);
			});
		}
		
		themeButtons.forEach(btn => {
			btn.addEventListener('click', () => {
				setTheme(btn.dataset.theme);
			});
		});
		
		setTheme(savedTheme);

		// Easter egg: track theme changes
		const origSetTheme = setTheme;
		setTheme = function(theme) {
			secrets.themeChanges++;
			origSetTheme(theme);
		};
		// (theme changes counted inside setTheme override) Just count button clicks - remove the setTheme override and count in the click handler only. Actually we already have forEach that adds to themeChanges on click - and we also override setTheme which gets called from the click. So themeChanges will get +2 per click. Let me remove the override and only count in the button listener. Actually the flow is: user clicks -> theme button click -> setTheme(theme) is called. So we only need to increment in one place. Increment in the button addEventListener that already exists - we need to add the increment there. Let me re-read. We have themeButtons.forEach(btn => btn.addEventListener('click', () => setTheme(btn.dataset.theme))). So we need to increment when setTheme is called. So the override is right but we're also adding another forEach that adds on click - that would double count. Remove the extra forEach and keep only the setTheme override.
		// Easter egg event listeners
		document.getElementById('secretBtn').addEventListener('click', () => { secrets.foundSecretButton = true; });
		document.querySelector('h1').addEventListener('click', () => { secrets.titleClicks++; });
		document.querySelector('.progress-bar').addEventListener('click', (e) => {
			if (e.target.classList.contains('progress-fill')) {
				secrets.progressFillClicks++;
			} else {
				secrets.progressBarClicks++;
			}
		});
		document.querySelector('.progress-bar').addEventListener('dblclick', () => { secrets.doubleClickProgress = true; });
		levelElement.addEventListener('click', () => { secrets.levelClicks++; });
		levelElement.addEventListener('dblclick', () => { secrets.doubleClickLevel = true; });
		speedElement.addEventListener('click', () => { secrets.speedClicks++; });
		document.getElementById('fasterWord').addEventListener('click', () => { secrets.fasterWordClicks++; });
		document.querySelector('h1').addEventListener('contextmenu', (e) => { e.preventDefault(); secrets.rightClickTitle = true; });
		document.getElementById('achievementsBtn').addEventListener('click', () => {
			secrets.achievementsOpened++;
			secrets.achievementsBtnClicks++;
		});
		document.getElementById('achievementsClose').addEventListener('click', () => { secrets.achievementsClosed++; });
		document.querySelectorAll('.sprite').forEach(el => el.addEventListener('click', () => { secrets.spriteClicks++; }));
		document.addEventListener('contextmenu', () => { secrets.rightClicks++; });
		document.addEventListener('click', (e) => {
			if (e.clientX >= window.innerWidth - 40 && e.clientY >= window.innerHeight - 40) secrets.cornerClicks++;
		});
		document.addEventListener('keydown', (e) => {
			if (e.code === 'Space') { e.preventDefault(); secrets.spacePresses++; }
			if (e.key === 'Escape') secrets.escapePresses++;
			secrets.konamiSequence.push(e.keyCode);
			if (secrets.konamiSequence.length > KONAMI.length) secrets.konamiSequence.shift();
			if (secrets.konamiSequence.length === KONAMI.length && secrets.konamiSequence.every((k, i) => k === KONAMI[i])) secrets.konami = true;
			const key = (e.key || '').toLowerCase();
			const str = (document.body.dataset.keyBuffer || '') + key;
			document.body.dataset.keyBuffer = str.slice(-10);
			if (document.body.dataset.keyBuffer.includes('bo')) secrets.typedBo = true;
			if (document.body.dataset.keyBuffer.includes('secret')) secrets.typedSecret = true;
		});
		window.addEventListener('resize', () => { secrets.resizeCount++; });

		// Matrix Rain Effect
		const matrixCanvas = document.getElementById('matrixCanvas');
		const matrixCtx = matrixCanvas.getContext('2d');
		
		function resizeMatrix() {
			matrixCanvas.width = window.innerWidth;
			matrixCanvas.height = window.innerHeight;
		}
		resizeMatrix();
		window.addEventListener('resize', resizeMatrix);
		
		const chars = '01';
		const fontSize = 14;
		const columns = matrixCanvas.width / fontSize;
		const drops = [];
		
		for (let i = 0; i < columns; i++) {
			drops[i] = Math.random() * -100;
		}
		
		function drawMatrix() {
			if (!body.classList.contains('theme-glitch')) {
				return;
			}
			
			matrixCtx.fillStyle = 'rgba(0, 0, 0, 0.05)';
			matrixCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
			
			matrixCtx.fillStyle = '#00ff00';
			matrixCtx.font = fontSize + 'px monospace';
			
			for (let i = 0; i < drops.length; i++) {
				let text;
				if (Math.random() < 0.0001) { // 0.01% chance
					text = 'Bo';
				} else {
					text = chars[Math.floor(Math.random() * chars.length)];
				}
				const x = i * fontSize;
				const y = drops[i] * fontSize;
				
				matrixCtx.fillStyle = '#00ff00';
				matrixCtx.fillText(text, x, y);
				
				if (y > matrixCanvas.height && Math.random() > 0.975) {
					drops[i] = 0;
				}
				drops[i]++;
			}
		}
		
		function matrixLoop() {
			drawMatrix();
			requestAnimationFrame(matrixLoop);
		}
		matrixLoop();

		function getSpeed(currentLevel) {
			return Math.max(1, currentLevel * 0.05);
		}

		function formatNumber(num) {
			if (num >= 1e33) {
				return (num / 1e33).toFixed(2) + 'Dc';
			}
			if (num >= 1e30) {
				return (num / 1e30).toFixed(2) + 'No';
			}
			if (num >= 1e27) {
				return (num / 1e27).toFixed(2) + 'Oc';
			}
			if (num >= 1e24) {
				return (num / 1e24).toFixed(2) + 'Sp';
			}
			if (num >= 1e21) {
				return (num / 1e21).toFixed(2) + 'Sx';
			}
			if (num >= 1e18) {
				return (num / 1e18).toFixed(2) + 'Qi';
			}
			if (num >= 1e15) {
				return (num / 1e15).toFixed(2) + 'Qa';
			}
			if (num >= 1e12) {
				return (num / 1e12).toFixed(2) + 'T';
			}
			if (num >= 1e9) {
				return (num / 1e9).toFixed(2) + 'B';
			}
			if (num >= 1e6) {
				return (num / 1e6).toFixed(2) + 'M';
			}
			if (num >= 1e3) {
				return (num / 1e3).toFixed(2) + 'K';
			}
			return num.toFixed(0);
		}

		function update() {
			const now = Date.now();
			const deltaTime = (now - lastUpdate) / 1000;
			lastUpdate = now;

			totalTimeSeconds += deltaTime;
			if (totalTimeSeconds - lastTimeSave >= 2) {
				lastTimeSave = totalTimeSeconds;
				localStorage.setItem('progressQuestTime', String(totalTimeSeconds));
			}

			const speed = getSpeed(level);
			const increment = speed * deltaTime;
			
			level += increment;

			checkAchievements();

			levelElement.textContent = formatNumber(level);
			speedElement.textContent = formatNumber(speed);
			
			const progress = (level % 1000) / 1000 * 100;
			progressElement.style.width = progress + '%';

			requestAnimationFrame(update);
		}

		lastUpdate = Date.now();
		update();
	</script>
</body>
</html>
