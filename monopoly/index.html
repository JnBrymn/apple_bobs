<!--
Monopoly Game - 2 Players
- Standard Monopoly board with all 40 spaces
- Players roll dice to move around the board
- Players can buy properties when they land on them
- Players pay rent when landing on opponent's properties
- Go space gives $200
- Income Tax and Luxury Tax spaces
- Go to Jail space
- Jail mechanics (3 turns or pay $50)
- Properties grouped by color sets
- Rent increases when player owns all properties in a color set
- Passing Go gives $200
-->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Monopoly - 2 Players</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Arial', sans-serif;
			background: linear-gradient(135deg, #2c1810 0%, #3d2817 100%);
			min-height: 100vh;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			color: white;
			padding: 20px;
		}

		.game-container {
			background: rgba(255, 255, 255, 0.95);
			border-radius: 20px;
			padding: 20px;
			box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
			max-width: 1400px;
			width: 100%;
		}

		h1 {
			text-align: center;
			color: #1a472a;
			font-size: 2.5rem;
			margin-bottom: 20px;
			text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
		}

		.board-wrapper {
			position: relative;
			width: 100%;
			max-width: 1000px;
			margin: 0 auto 20px;
		}

		.board {
			width: 100%;
			aspect-ratio: 1;
			background: #f0e6d2;
			border: 8px solid #8b4513;
			position: relative;
			display: grid;
			grid-template-columns: repeat(11, 1fr);
			grid-template-rows: repeat(11, 1fr);
		}

		.space {
			border: 1px solid #8b4513;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			font-size: 0.65rem;
			text-align: center;
			padding: 2px;
			position: relative;
			cursor: pointer;
		}

		.space.corner {
			font-size: 0.8rem;
			font-weight: bold;
		}

		.space.property {
			border-top: 4px solid;
		}

		.space-name {
			font-weight: bold;
			margin-bottom: 2px;
		}

		.space-price {
			font-size: 0.5rem;
			color: #555;
		}

		.player-token {
			width: 12px;
			height: 12px;
			border-radius: 50%;
			position: absolute;
			top: 2px;
			border: 2px solid white;
		}

		.player-1-token {
			left: 2px;
			background: #ff4444;
		}

		.player-2-token {
			right: 2px;
			background: #4444ff;
		}

		.game-info {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 20px;
			margin-bottom: 20px;
		}

		.player-panel {
			background: linear-gradient(135deg, #1a472a 0%, #2d5a3d 100%);
			padding: 15px;
			border-radius: 10px;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
		}

		.player-panel.active {
			background: linear-gradient(135deg, #2d5a3d 0%, #3d7a4d 100%);
			box-shadow: 0 0 20px rgba(45, 90, 61, 0.6);
		}

		.player-panel.player-2 {
			background: linear-gradient(135deg, #1a1a4a 0%, #2d2d5a 100%);
		}

		.player-panel.player-2.active {
			background: linear-gradient(135deg, #2d2d5a 0%, #3d3d7a 100%);
			box-shadow: 0 0 20px rgba(45, 45, 90, 0.6);
		}

		.player-name {
			font-size: 1.3rem;
			font-weight: bold;
			margin-bottom: 10px;
		}

		.player-money {
			font-size: 1.5rem;
			margin-bottom: 10px;
		}

		.properties-list {
			font-size: 0.85rem;
			max-height: 100px;
			overflow-y: auto;
		}

		.controls {
			text-align: center;
			background: rgba(255, 255, 255, 0.1);
			padding: 20px;
			border-radius: 10px;
		}

		.dice-container {
			display: flex;
			justify-content: center;
			gap: 20px;
			margin-bottom: 20px;
		}

		.die {
			width: 60px;
			height: 60px;
			background: white;
			border: 3px solid #333;
			border-radius: 10px;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 2rem;
			font-weight: bold;
			color: #333;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
		}

		.btn {
			background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
			color: white;
			border: none;
			padding: 15px 30px;
			font-size: 1.2rem;
			border-radius: 10px;
			cursor: pointer;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
			margin: 5px;
			font-weight: bold;
		}

		.btn:hover {
			background: linear-gradient(135deg, #45a049 0%, #4CAF50 100%);
			transform: translateY(-2px);
			box-shadow: 0 6px 15px rgba(0, 0, 0, 0.4);
		}

		.btn:disabled {
			background: #cccccc;
			cursor: not-allowed;
			transform: none;
		}

		.btn-buy {
			background: linear-gradient(135deg, #2196F3 0%, #0b7dda 100%);
		}

		.btn-buy:hover:not(:disabled) {
			background: linear-gradient(135deg, #0b7dda 0%, #2196F3 100%);
		}

		.btn-jail {
			background: linear-gradient(135deg, #ff9800 0%, #e68900 100%);
		}

		.btn-jail:hover:not(:disabled) {
			background: linear-gradient(135deg, #e68900 0%, #ff9800 100%);
		}

		.message {
			text-align: center;
			font-size: 1.2rem;
			margin: 15px 0;
			padding: 10px;
			background: rgba(255, 255, 255, 0.2);
			border-radius: 5px;
			min-height: 40px;
			display: flex;
			align-items: center;
			justify-content: center;
			color: #1a1a1a;
			font-weight: bold;
		}

		.jail-status {
			color: #ff4444;
			font-weight: bold;
			margin-top: 5px;
		}

		.modal {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background: rgba(0, 0, 0, 0.7);
			z-index: 1000;
			align-items: center;
			justify-content: center;
		}

		.modal-content {
			background: white;
			padding: 30px;
			border-radius: 15px;
			max-width: 500px;
			text-align: center;
			color: #333;
		}

		.modal h2 {
			margin-bottom: 20px;
			color: #1a472a;
		}

		.modal-buttons {
			display: flex;
			gap: 10px;
			justify-content: center;
			margin-top: 20px;
		}

		.center-cell {
			grid-column: 2 / 11;
			grid-row: 2 / 11;
			background: #8b7355;
			border: 2px solid #654321;
			display: flex;
			align-items: center;
			justify-content: center;
			font-size: 1.5rem;
			font-weight: bold;
			color: #f0e6d2;
		}
	</style>
</head>
<body>
	<div class="game-container">
		<h1>üèõÔ∏è MONOPOLY üèõÔ∏è</h1>
		
		<div class="game-info">
			<div class="player-panel player-1 active" id="player1-panel">
				<div class="player-name">Player 1 üî¥</div>
				<div class="player-money">Money: $<span id="money1">1500</span></div>
				<div class="properties-list" id="props1">No properties yet</div>
				<div class="jail-status" id="jail1" style="display:none;">In Jail (Rolls left: <span id="jail-rolls1">3</span>)</div>
			</div>
			<div class="player-panel player-2" id="player2-panel">
				<div class="player-name">Player 2 üîµ</div>
				<div class="player-money">Money: $<span id="money2">1500</span></div>
				<div class="properties-list" id="props2">No properties yet</div>
				<div class="jail-status" id="jail2" style="display:none;">In Jail (Rolls left: <span id="jail-rolls2">3</span>)</div>
			</div>
		</div>

		<div class="board-wrapper">
			<div class="board" id="board"></div>
		</div>

		<div class="controls">
			<div class="dice-container">
				<div class="die" id="die1">‚öÖ</div>
				<div class="die" id="die2">‚öÖ</div>
			</div>
			<div class="message" id="message">Player 1's turn - Roll the dice!</div>
			<div>
				<button class="btn" id="roll-btn">Roll Dice</button>
				<button class="btn btn-buy" id="buy-btn" disabled>Buy Property ($<span id="buy-price">0</span>)</button>
				<button class="btn btn-jail" id="jail-btn" style="display:none;">Pay $50 to Get Out</button>
			</div>
		</div>
	</div>

	<div class="modal" id="game-over-modal">
		<div class="modal-content">
			<h2 id="winner-text">Game Over!</h2>
			<p id="winner-message"></p>
			<div class="modal-buttons">
				<button class="btn" onclick="location.reload()">Play Again</button>
			</div>
		</div>
	</div>

	<script>
		// Game state
		let currentPlayer = 0;
		let players = [
			{ position: 0, money: 1500, properties: [], inJail: false, jailRolls: 0, name: 'Player 1' },
			{ position: 0, money: 1500, properties: [], inJail: false, jailRolls: 0, name: 'Player 2' }
		];

		// Standard Monopoly board spaces
		const boardSpaces = [
			{ name: 'GO', type: 'go', price: 0, color: '#8b7355' },
			{ name: 'Mediterranean Ave', type: 'property', price: 60, rent: 2, color: '#8B4513', group: 'brown' },
			{ name: 'Community Chest', type: 'chest', price: 0, color: '#d4af37' },
			{ name: 'Baltic Ave', type: 'property', price: 60, rent: 4, color: '#8B4513', group: 'brown' },
			{ name: 'Income Tax', type: 'tax', price: 0, amount: 200, color: '#808080' },
			{ name: 'Reading Railroad', type: 'railroad', price: 200, rent: 25, color: '#000000', group: 'railroad' },
			{ name: 'Oriental Ave', type: 'property', price: 100, rent: 6, color: '#87CEEB', group: 'lightblue' },
			{ name: 'Chance', type: 'chance', price: 0, color: '#FF6347' },
			{ name: 'Vermont Ave', type: 'property', price: 100, rent: 6, color: '#87CEEB', group: 'lightblue' },
			{ name: 'Connecticut Ave', type: 'property', price: 120, rent: 8, color: '#87CEEB', group: 'lightblue' },
			{ name: 'JAIL', type: 'jail', price: 0, color: '#654321' },
			{ name: 'St. Charles Place', type: 'property', price: 140, rent: 10, color: '#FF69B4', group: 'pink' },
			{ name: 'Electric Company', type: 'utility', price: 150, rent: 0, color: '#FFFF00', group: 'utility' },
			{ name: 'States Ave', type: 'property', price: 140, rent: 10, color: '#FF69B4', group: 'pink' },
			{ name: 'Virginia Ave', type: 'property', price: 160, rent: 12, color: '#FF69B4', group: 'pink' },
			{ name: 'Pennsylvania Railroad', type: 'railroad', price: 200, rent: 25, color: '#000000', group: 'railroad' },
			{ name: 'St. James Place', type: 'property', price: 180, rent: 14, color: '#FFA500', group: 'orange' },
			{ name: 'Community Chest', type: 'chest', price: 0, color: '#d4af37' },
			{ name: 'Tennessee Ave', type: 'property', price: 180, rent: 14, color: '#FFA500', group: 'orange' },
			{ name: 'New York Ave', type: 'property', price: 200, rent: 16, color: '#FFA500', group: 'orange' },
			{ name: 'Free Parking', type: 'parking', price: 0, color: '#00FF00' },
			{ name: 'Kentucky Ave', type: 'property', price: 220, rent: 18, color: '#FF0000', group: 'red' },
			{ name: 'Chance', type: 'chance', price: 0, color: '#FF6347' },
			{ name: 'Indiana Ave', type: 'property', price: 220, rent: 18, color: '#FF0000', group: 'red' },
			{ name: 'Illinois Ave', type: 'property', price: 240, rent: 20, color: '#FF0000', group: 'red' },
			{ name: 'B&O Railroad', type: 'railroad', price: 200, rent: 25, color: '#000000', group: 'railroad' },
			{ name: 'Atlantic Ave', type: 'property', price: 260, rent: 22, color: '#FFFF00', group: 'yellow' },
			{ name: 'Ventnor Ave', type: 'property', price: 260, rent: 22, color: '#FFFF00', group: 'yellow' },
			{ name: 'Water Works', type: 'utility', price: 150, rent: 0, color: '#00FFFF', group: 'utility' },
			{ name: 'Marvin Gardens', type: 'property', price: 280, rent: 24, color: '#FFFF00', group: 'yellow' },
			{ name: 'GO TO JAIL', type: 'gotojail', price: 0, color: '#654321' },
			{ name: 'Pacific Ave', type: 'property', price: 300, rent: 26, color: '#00FF00', group: 'green' },
			{ name: 'North Carolina Ave', type: 'property', price: 300, rent: 26, color: '#00FF00', group: 'green' },
			{ name: 'Community Chest', type: 'chest', price: 0, color: '#d4af37' },
			{ name: 'Pennsylvania Ave', type: 'property', price: 320, rent: 28, color: '#00FF00', group: 'green' },
			{ name: 'Short Line', type: 'railroad', price: 200, rent: 25, color: '#000000', group: 'railroad' },
			{ name: 'Chance', type: 'chance', price: 0, color: '#FF6347' },
			{ name: 'Park Place', type: 'property', price: 350, rent: 35, color: '#0000FF', group: 'darkblue' },
			{ name: 'Luxury Tax', type: 'tax', price: 0, amount: 100, color: '#808080' },
			{ name: 'Boardwalk', type: 'property', price: 400, rent: 50, color: '#0000FF', group: 'darkblue' }
		];

		// Property ownership tracking
		let propertyOwners = new Array(40).fill(null);

		// Create board
		function createBoard() {
			const board = document.getElementById('board');
			board.innerHTML = '';

			// Create spaces in order around the board
			for (let i = 0; i < 40; i++) {
				const space = boardSpaces[i];
				const spaceEl = document.createElement('div');
				spaceEl.className = `space ${space.type}`;
				spaceEl.id = `space-${i}`;
				
				if (i === 0 || i === 10 || i === 20 || i === 30) {
					spaceEl.classList.add('corner');
				}

				spaceEl.innerHTML = `<div class="space-name">${space.name}</div>`;
				if (space.price > 0) {
					spaceEl.innerHTML += `<div class="space-price">$${space.price}</div>`;
				}

				spaceEl.style.backgroundColor = space.color || '#f0e6d2';
				spaceEl.style.color = (space.color === '#000000' || space.color === '#0000FF' || space.color === '#8B4513') ? 'white' : 'black';

				// Position spaces around the board
				positionSpace(spaceEl, i);

				board.appendChild(spaceEl);
			}

			// Add center cell
			const center = document.createElement('div');
			center.className = 'center-cell';
			center.textContent = 'MONOPOLY';
			board.appendChild(center);

			updatePlayerPositions();
		}

		function positionSpace(spaceEl, index) {
			if (index === 0) {
				spaceEl.style.gridColumn = '11 / 12';
				spaceEl.style.gridRow = '11 / 12';
			} else if (index < 10) {
				spaceEl.style.gridColumn = `${11 - index} / ${12 - index}`;
				spaceEl.style.gridRow = '11 / 12';
			} else if (index === 10) {
				spaceEl.style.gridColumn = '1 / 2';
				spaceEl.style.gridRow = '11 / 12';
			} else if (index < 20) {
				spaceEl.style.gridColumn = '1 / 2';
				spaceEl.style.gridRow = `${12 - (index - 10)} / ${13 - (index - 10)}`;
			} else if (index === 20) {
				spaceEl.style.gridColumn = '1 / 2';
				spaceEl.style.gridRow = '1 / 2';
			} else if (index < 30) {
				spaceEl.style.gridColumn = `${1 + (index - 20)} / ${2 + (index - 20)}`;
				spaceEl.style.gridRow = '1 / 2';
			} else if (index === 30) {
				spaceEl.style.gridColumn = '11 / 12';
				spaceEl.style.gridRow = '1 / 2';
			} else {
				spaceEl.style.gridColumn = '11 / 12';
				spaceEl.style.gridRow = `${1 + (index - 30)} / ${2 + (index - 30)}`;
			}
		}

		function updatePlayerPositions() {
			// Remove old tokens
			document.querySelectorAll('.player-token').forEach(token => token.remove());

			for (let p = 0; p < 2; p++) {
				const spaceIndex = players[p].position;
				const spaceEl = document.getElementById(`space-${spaceIndex}`);
				if (spaceEl) {
					const token = document.createElement('div');
					token.className = `player-token player-${p + 1}-token`;
					spaceEl.appendChild(token);
				}
			}
		}

		function rollDice() {
			const die1 = Math.floor(Math.random() * 6) + 1;
			const die2 = Math.floor(Math.random() * 6) + 1;
			
			document.getElementById('die1').textContent = ['‚öÄ', '‚öÅ', '‚öÇ', '‚öÉ', '‚öÑ', '‚öÖ'][die1 - 1];
			document.getElementById('die2').textContent = ['‚öÄ', '‚öÅ', '‚öÇ', '‚öÉ', '‚öÑ', '‚öÖ'][die2 - 1];
			
			return { die1, die2, total: die1 + die2, isDouble: die1 === die2 };
		}

		function calculateRent(spaceIndex, owner) {
			const space = boardSpaces[spaceIndex];
			if (!space.rent) return 0;

			let rent = space.rent;

			// Check if owner has monopoly (all properties in group)
			if (space.group) {
				const groupSpaces = boardSpaces
					.map((s, i) => ({ space: s, index: i }))
					.filter(({ space: s }) => s.group === space.group);
				
				const ownedInGroup = groupSpaces.filter(({ index }) => propertyOwners[index] === owner);
				
				if (ownedInGroup.length === groupSpaces.length) {
					// Monopoly! Double the rent
					rent = rent * 2;
				}
			}

			return rent;
		}

		function movePlayer(playerIndex, steps) {
			const player = players[playerIndex];
			const oldPosition = player.position;
			player.position = (player.position + steps) % 40;
			
			// Check if passed GO
			if (player.position < oldPosition) {
				player.money += 200;
				showMessage(`${player.name} passed GO! Collect $200!`);
				updateUI();
			}

			handleSpace(playerIndex, player.position);
			updatePlayerPositions();
		}

		function handleSpace(playerIndex, spaceIndex) {
			const player = players[playerIndex];
			const space = boardSpaces[spaceIndex];
			
			document.getElementById('buy-btn').disabled = true;

			switch (space.type) {
				case 'go':
					showMessage(`${player.name} landed on GO!`);
					break;

				case 'property':
				case 'railroad':
				case 'utility':
					if (propertyOwners[spaceIndex] === null) {
						// Can buy
						if (player.money >= space.price) {
							document.getElementById('buy-btn').disabled = false;
							document.getElementById('buy-price').textContent = space.price;
							showMessage(`${player.name} landed on ${space.name}. You can buy it for $${space.price}!`);
						} else {
							showMessage(`${player.name} landed on ${space.name} but can't afford it ($${space.price}).`);
						}
					} else if (propertyOwners[spaceIndex] === playerIndex) {
						showMessage(`${player.name} landed on their own property: ${space.name}`);
					} else {
						// Pay rent
						const rent = calculateRent(spaceIndex, propertyOwners[spaceIndex]);
						player.money -= rent;
						players[propertyOwners[spaceIndex]].money += rent;
						showMessage(`${player.name} paid $${rent} rent to ${players[propertyOwners[spaceIndex]].name} for ${space.name}!`);
					}
					break;

				case 'tax':
					player.money -= space.amount;
					showMessage(`${player.name} paid $${space.amount} in ${space.name}!`);
					break;

				case 'gotojail':
					player.position = 10; // Jail position
					player.inJail = true;
					player.jailRolls = 3;
					showMessage(`${player.name} went to JAIL!`);
					updatePlayerPositions();
					updateUI();
					break;

				case 'jail':
					showMessage(`${player.name} is just visiting jail.`);
					break;

				case 'parking':
					showMessage(`${player.name} is on Free Parking!`);
					break;

				case 'chance':
				case 'chest':
					// Simplified - just a message for now
					showMessage(`${player.name} landed on ${space.name}!`);
					break;
			}

			updateUI();
			checkGameOver();
		}

		function buyProperty(playerIndex) {
			const player = players[playerIndex];
			const spaceIndex = player.position;
			const space = boardSpaces[spaceIndex];

			if (propertyOwners[spaceIndex] !== null) return;
			if (player.money < space.price) return;
			if (space.type !== 'property' && space.type !== 'railroad' && space.type !== 'utility') return;

			player.money -= space.price;
			player.properties.push(spaceIndex);
			propertyOwners[spaceIndex] = playerIndex;

			// Highlight owned property
			const spaceEl = document.getElementById(`space-${spaceIndex}`);
			spaceEl.style.border = '3px solid ' + (playerIndex === 0 ? '#ff4444' : '#4444ff');
			spaceEl.style.boxShadow = '0 0 10px ' + (playerIndex === 0 ? '#ff4444' : '#4444ff');

			showMessage(`${player.name} bought ${space.name} for $${space.price}!`);
			document.getElementById('buy-btn').disabled = true;
			updateUI();
		}

		function handleJail(playerIndex) {
			const player = players[playerIndex];
			if (!player.inJail) return;

			const dice = rollDice();
			
			if (dice.isDouble) {
				// Get out of jail!
				player.inJail = false;
				player.jailRolls = 0;
				movePlayer(playerIndex, dice.total);
				showMessage(`${player.name} rolled doubles and got out of jail! Moving ${dice.total} spaces.`);
			} else {
				player.jailRolls--;
				if (player.jailRolls <= 0) {
					// Must pay to get out
					if (player.money >= 50) {
						player.money -= 50;
						player.inJail = false;
						movePlayer(playerIndex, dice.total);
						showMessage(`${player.name} paid $50 to get out of jail. Moving ${dice.total} spaces.`);
					} else {
						showMessage(`${player.name} can't afford to pay! Game over for ${player.name}.`);
						endGame(1 - playerIndex);
					}
				} else {
					showMessage(`${player.name} didn't roll doubles. ${player.jailRolls} roll(s) left in jail.`);
					endTurn();
				}
			}
		}

		function payToGetOut(playerIndex) {
			const player = players[playerIndex];
			if (!player.inJail || player.jailRolls <= 0) return;
			if (player.money < 50) {
				showMessage(`${player.name} doesn't have $50!`);
				return;
			}

			player.money -= 50;
			player.inJail = false;
			player.jailRolls = 0;

			const dice = rollDice();
			movePlayer(playerIndex, dice.total);
			showMessage(`${player.name} paid $50 to get out of jail. Moving ${dice.total} spaces.`);
			updateUI();
			document.getElementById('jail-btn').style.display = 'none';
			endTurn();
		}

		function rollButtonClick() {
			const player = players[currentPlayer];
			
			if (player.inJail) {
				handleJail(currentPlayer);
			} else {
				const dice = rollDice();
				movePlayer(currentPlayer, dice.total);
				
				// Check for three doubles in a row (simplified - just end turn)
				setTimeout(() => {
					if (!player.inJail) {
						endTurn();
					}
				}, 1000);
			}
		}

		function endTurn() {
			document.getElementById('roll-btn').disabled = false;
			document.getElementById('buy-btn').disabled = true;
			currentPlayer = 1 - currentPlayer;
			updateUI();
			showMessage(`${players[currentPlayer].name}'s turn - Roll the dice!`);
		}

		function updateUI() {
			for (let i = 0; i < 2; i++) {
				document.getElementById(`money${i + 1}`).textContent = players[i].money;
				document.getElementById(`player${i + 1}-panel`).classList.toggle('active', i === currentPlayer);
				
				// Update properties list
				const propsList = document.getElementById(`props${i + 1}`);
				if (players[i].properties.length === 0) {
					propsList.textContent = 'No properties yet';
				} else {
					propsList.textContent = players[i].properties.map(idx => boardSpaces[idx].name).join(', ');
				}

				// Update jail status
				const jailEl = document.getElementById(`jail${i + 1}`);
				if (players[i].inJail) {
					jailEl.style.display = 'block';
					document.getElementById(`jail-rolls${i + 1}`).textContent = players[i].jailRolls;
				} else {
					jailEl.style.display = 'none';
				}
			}

			// Show/hide jail button
			const jailBtn = document.getElementById('jail-btn');
			if (players[currentPlayer].inJail && players[currentPlayer].jailRolls > 0) {
				jailBtn.style.display = 'inline-block';
			} else {
				jailBtn.style.display = 'none';
			}

			document.getElementById('roll-btn').disabled = false;
		}

		function showMessage(text) {
			document.getElementById('message').textContent = text;
		}

		function checkGameOver() {
			for (let i = 0; i < 2; i++) {
				if (players[i].money < 0) {
					endGame(1 - i);
					return;
				}
			}
		}

		function endGame(winnerIndex) {
			document.getElementById('winner-text').textContent = `${players[winnerIndex].name} Wins!`;
			document.getElementById('winner-message').textContent = 
				`${players[winnerIndex].name} won with $${players[winnerIndex].money}!`;
			document.getElementById('game-over-modal').style.display = 'flex';
			document.getElementById('roll-btn').disabled = true;
			document.getElementById('buy-btn').disabled = true;
		}

		// Event listeners
		document.getElementById('roll-btn').addEventListener('click', rollButtonClick);
		document.getElementById('buy-btn').addEventListener('click', () => {
			buyProperty(currentPlayer);
			endTurn();
		});
		document.getElementById('jail-btn').addEventListener('click', () => {
			payToGetOut(currentPlayer);
		});

		// Initialize game
		createBoard();
		updateUI();
	</script>
</body>
</html>
