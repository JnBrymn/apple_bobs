<!-- 
COSMIC IDLE ADVENTURE - The Most Creative Idle Game Ever!
A magical space adventure where you:
- Collect stardust from floating cosmic particles
- Build amazing planets with different themes
- Unlock cosmic creatures and space stations
- Create your own universe with beautiful animations
- Discover secret cosmic powers and upgrades
-->
<!DOCTYPE html>
<html>
<head>
    <title>🌟 Cosmic Idle Adventure 🌟</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: radial-gradient(ellipse at center, #0c1445 0%, #1a1a2e 50%, #16213e 100%);
            font-family: 'Orbitron', monospace;
            color: #fff;
            overflow: hidden;
            height: 100vh;
            position: relative;
            animation: backgroundShift 20s ease-in-out infinite;
        }
        
        @keyframes backgroundShift {
            0%, 100% { background: radial-gradient(ellipse at center, #0c1445 0%, #1a1a2e 50%, #16213e 100%); }
            25% { background: radial-gradient(ellipse at center, #1a1a2e 0%, #16213e 50%, #0c1445 100%); }
            50% { background: radial-gradient(ellipse at center, #16213e 0%, #0c1445 50%, #1a1a2e 100%); }
            75% { background: radial-gradient(ellipse at center, #0c1445 0%, #1a1a2e 50%, #16213e 100%); }
        }
        
        /* Animated starfield background */
        .starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 3s infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }
        
        /* Main game container */
        #gameContainer {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        /* Header with stats */
        #header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid #4a90e2;
        }
        
        #title {
            font-size: 2.5em;
            font-weight: 900;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease-in-out infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        #stats {
            display: flex;
            gap: 30px;
            font-size: 1.2em;
        }
        
        .stat {
            background: rgba(74, 144, 226, 0.2);
            padding: 10px 20px;
            border-radius: 15px;
            border: 1px solid #4a90e2;
            backdrop-filter: blur(5px);
        }
        
        .stat-value {
            color: #4ecdc4;
            font-weight: bold;
        }
        
        /* Main game area */
        #gameArea {
            flex: 1;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* Cosmic particles */
        .particle {
            position: absolute;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
            animation: float 4s ease-in-out infinite;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px currentColor;
            filter: drop-shadow(0 0 8px currentColor);
        }
        
        .particle:hover {
            transform: scale(1.8);
            box-shadow: 0 0 30px currentColor;
            filter: drop-shadow(0 0 20px currentColor);
        }
        
        .particle::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
            50% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Collection effect */
        .collect-effect {
            position: absolute;
            font-weight: bold;
            font-size: 1.4em;
            animation: collectFloat 1.5s ease-out forwards;
            pointer-events: none;
            text-shadow: 0 0 10px currentColor;
            filter: drop-shadow(0 0 5px currentColor);
            z-index: 1000;
        }
        
        @keyframes collectFloat {
            0% { opacity: 1; transform: translateY(0) scale(1) rotate(0deg); }
            25% { opacity: 1; transform: translateY(-15px) scale(1.2) rotate(5deg); }
            50% { opacity: 0.8; transform: translateY(-30px) scale(1.4) rotate(-5deg); }
            75% { opacity: 0.4; transform: translateY(-45px) scale(1.6) rotate(5deg); }
            100% { opacity: 0; transform: translateY(-60px) scale(1.8) rotate(0deg); }
        }
        
        /* Planet display */
        #planetDisplay {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 25px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 80%;
        }
        
        .planet {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5em;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            animation: planetRotate 15s linear infinite;
            box-shadow: 0 0 25px currentColor;
            filter: drop-shadow(0 0 10px currentColor);
        }
        
        .planet:hover {
            transform: scale(1.3) rotate(10deg);
            box-shadow: 0 0 40px currentColor;
            filter: drop-shadow(0 0 20px currentColor);
        }
        
        .planet::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            background: inherit;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: planetGlow 3s ease-in-out infinite;
            opacity: 0.3;
        }
        
        @keyframes planetGlow {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.6; }
        }
        
        @keyframes planetRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .planet-level {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            color: #4ecdc4;
        }
        
        /* Upgrades panel */
        #upgradesPanel {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border: 2px solid #4a90e2;
            border-radius: 15px;
            padding: 20px;
            max-width: 300px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .upgrade {
            background: rgba(74, 144, 226, 0.1);
            border: 1px solid #4a90e2;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .upgrade:hover {
            background: rgba(74, 144, 226, 0.3);
            transform: translateX(-5px);
        }
        
        .upgrade:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .upgrade-name {
            font-weight: bold;
            color: #4ecdc4;
            margin-bottom: 5px;
        }
        
        .upgrade-cost {
            color: #ff6b6b;
            font-size: 0.9em;
        }
        
        .upgrade-effect {
            color: #96ceb4;
            font-size: 0.8em;
            margin-top: 5px;
        }
        
        /* Instructions Panel */
        #instructionsPanel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border: 2px solid #4ecdc4;
            border-radius: 15px;
            padding: 20px;
            max-width: 280px;
            max-height: 200px;
            overflow-y: auto;
            box-shadow: 0 0 30px rgba(78, 205, 196, 0.3);
            animation: instructionGlow 3s ease-in-out infinite;
        }
        
        @keyframes instructionGlow {
            0%, 100% { box-shadow: 0 0 30px rgba(78, 205, 196, 0.3); }
            50% { box-shadow: 0 0 40px rgba(78, 205, 196, 0.6); }
        }
        
        .instruction {
            color: #fff;
            margin-bottom: 8px;
            font-size: 0.9em;
            padding: 5px 0;
            border-bottom: 1px solid rgba(78, 205, 196, 0.2);
        }
        
        .instruction:last-child {
            border-bottom: none;
        }
        
        /* Achievements */
        #achievements {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border: 2px solid #ff6b6b;
            border-radius: 15px;
            padding: 15px;
            max-width: 200px;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .achievement {
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid #ff6b6b;
            border-radius: 8px;
            padding: 8px;
            margin-bottom: 5px;
            font-size: 0.8em;
            opacity: 0.7;
        }
        
        .achievement.unlocked {
            opacity: 1;
            background: rgba(255, 107, 107, 0.3);
            animation: achievementGlow 2s ease-in-out infinite;
        }
        
        @keyframes achievementGlow {
            0%, 100% { box-shadow: 0 0 10px rgba(255, 107, 107, 0.5); }
            50% { box-shadow: 0 0 20px rgba(255, 107, 107, 0.8); }
        }
        
        /* Cosmic events */
        .cosmic-event {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            border: 3px solid #4ecdc4;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            animation: eventPulse 2s ease-in-out infinite;
            z-index: 1000;
        }
        
        @keyframes eventPulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            #header {
                flex-direction: column;
                gap: 10px;
            }
            
            #stats {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            #upgradesPanel {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px;
                max-width: none;
            }
        }
    </style>
</head>
<body>
    <!-- Animated starfield -->
    <div class="starfield" id="starfield"></div>
    
    <div id="gameContainer">
        <!-- Header with stats -->
        <div id="header">
            <h1 id="title">🌟 Cosmic Idle Adventure 🌟</h1>
                    <div id="stats">
            <div class="stat">
                Stardust: <span class="stat-value" id="stardust">0</span>
            </div>
            <div class="stat">
                Stardust/sec: <span class="stat-value" id="stardustPerSec">0</span>
            </div>
            <div class="stat">
                Planets: <span class="stat-value" id="planetCount">0</span>
            </div>
            <div class="stat">
                Creatures: <span class="stat-value" id="creatureCount">0</span>
            </div>
            <div class="stat">
                Stations: <span class="stat-value" id="stationCount">0</span>
            </div>
            <div class="stat">
                Level: <span class="stat-value" id="playerLevel">1</span>
            </div>
        </div>
        </div>
        
        <!-- Main game area -->
        <div id="gameArea">
            <!-- Cosmic particles will spawn here -->
        </div>
        
        <!-- Planet display -->
        <div id="planetDisplay">
            <!-- Planets will appear here -->
        </div>
        
        <!-- Upgrades panel -->
        <div id="upgradesPanel">
            <h3 style="color: #4ecdc4; margin-bottom: 15px;">🚀 Cosmic Upgrades</h3>
            <div class="upgrade" onclick="buyUpgrade('particleSpawn')">
                <div class="upgrade-name">✨ Particle Magnet</div>
                <div class="upgrade-cost">Cost: <span id="particleSpawnCost">10</span> stardust</div>
                <div class="upgrade-effect">Increases particle spawn rate</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('stardustMultiplier')">
                <div class="upgrade-name">🌟 Stardust Amplifier</div>
                <div class="upgrade-cost">Cost: <span id="stardustMultiplierCost">50</span> stardust</div>
                <div class="upgrade-effect">Doubles stardust per click</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('autoCollector')">
                <div class="upgrade-name">🤖 Auto Collector</div>
                <div class="upgrade-cost">Cost: <span id="autoCollectorCost">100</span> stardust</div>
                <div class="upgrade-effect">Automatically collects particles</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('planetBuilder')">
                <div class="upgrade-name">🪐 Planet Builder</div>
                <div class="upgrade-cost">Cost: <span id="planetBuilderCost">500</span> stardust</div>
                <div class="upgrade-effect">Builds planets automatically</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('creatureSummoner')">
                <div class="upgrade-name">🐉 Creature Summoner</div>
                <div class="upgrade-cost">Cost: <span id="creatureSummonerCost">1000</span> stardust</div>
                <div class="upgrade-effect">Summons cosmic creatures automatically</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('stationBuilder')">
                <div class="upgrade-name">🛸 Station Builder</div>
                <div class="upgrade-cost">Cost: <span id="stationBuilderCost">2500</span> stardust</div>
                <div class="upgrade-effect">Builds space stations automatically</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('particleSize')">
                <div class="upgrade-name">🔍 Particle Magnifier</div>
                <div class="upgrade-cost">Cost: <span id="particleSizeCost">75</span> stardust</div>
                <div class="upgrade-effect">Makes particles bigger and easier to click</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('tapMultiplier')">
                <div class="upgrade-name">⚡ Tap Amplifier</div>
                <div class="upgrade-cost">Cost: <span id="tapMultiplierCost">200</span> stardust</div>
                <div class="upgrade-effect">Doubles stardust from clicking particles</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('criticalClick')">
                <div class="upgrade-name">🎯 Critical Click</div>
                <div class="upgrade-cost">Cost: <span id="criticalClickCost">300</span> stardust</div>
                <div class="upgrade-effect">10% chance for 5x stardust when clicking</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('particleLifetime')">
                <div class="upgrade-name">⏰ Particle Lifespan</div>
                <div class="upgrade-cost">Cost: <span id="particleLifetimeCost">150</span> stardust</div>
                <div class="upgrade-effect">Particles last 50% longer</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('stardustLuck')">
                <div class="upgrade-name">🍀 Stardust Luck</div>
                <div class="upgrade-cost">Cost: <span id="stardustLuckCost">400</span> stardust</div>
                <div class="upgrade-effect">More yellow particles, fewer red ones</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('particleMagnet')">
                <div class="upgrade-name">🧲 Particle Magnet</div>
                <div class="upgrade-cost">Cost: <span id="particleMagnetCost">800</span> stardust</div>
                <div class="upgrade-effect">Particles slowly move toward your cursor</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('stardustReactor')">
                <div class="upgrade-name">⚛️ Stardust Reactor</div>
                <div class="upgrade-cost">Cost: <span id="stardustReactorCost">1500</span> stardust</div>
                <div class="upgrade-effect">All stardust generation +25%</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('autoUpgrader')">
                <div class="upgrade-name">🤖 Auto Upgrader</div>
                <div class="upgrade-cost">Cost: <span id="autoUpgraderCost">2000</span> stardust</div>
                <div class="upgrade-effect">Automatically upgrades planets when possible</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('quantumLeap')">
                <div class="upgrade-name">🌌 Quantum Leap</div>
                <div class="upgrade-cost">Cost: <span id="quantumLeapCost">3000</span> stardust</div>
                <div class="upgrade-effect">Instantly gain 1 hour of stardust</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('cosmicWisdom')">
                <div class="upgrade-name">🧠 Cosmic Wisdom</div>
                <div class="upgrade-cost">Cost: <span id="cosmicWisdomCost">5000</span> stardust</div>
                <div class="upgrade-effect">All upgrade costs reduced by 10%</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('cosmicStorm')">
                <div class="upgrade-name">🌪️ Cosmic Storm</div>
                <div class="upgrade-cost">Cost: <span id="cosmicStormCost">7500</span> stardust</div>
                <div class="upgrade-effect">Spawns 10x more particles for 30 seconds</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('timeWarp')">
                <div class="upgrade-name">⏱️ Time Warp</div>
                <div class="upgrade-cost">Cost: <span id="timeWarpCost">10000</span> stardust</div>
                <div class="upgrade-effect">Game runs 2x faster for 1 minute</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('infinityCore')">
                <div class="upgrade-name">♾️ Infinity Core</div>
                <div class="upgrade-cost">Cost: <span id="infinityCoreCost">20000</span> stardust</div>
                <div class="upgrade-effect">All stardust generation +100%</div>
            </div>
            <div class="upgrade" onclick="buyUpgrade('voidHarvester')">
                <div class="upgrade-name">🕳️ Void Harvester</div>
                <div class="upgrade-cost">Cost: <span id="voidHarvesterCost">50000</span> stardust</div>
                <div class="upgrade-effect">Red particles now give stardust instead of taking it</div>
            </div>
        </div>
        
        <!-- Instructions Panel -->
        <div id="instructionsPanel">
            <h3 style="color: #4ecdc4; margin-bottom: 10px;">📚 How to Play</h3>
            <div class="instruction">
                <strong>🎯 Click particles</strong> to earn stardust
            </div>
            <div class="instruction">
                <strong>🪐 Build planets</strong> for passive stardust (press 'B')
            </div>
            <div class="instruction">
                <strong>🐉 Summon creatures</strong> for bonus stardust (press 'C')
            </div>
            <div class="instruction">
                <strong>🛸 Build stations</strong> for extra stardust (press 'S')
            </div>
            <div class="instruction">
                <strong>🔵 Blue particles</strong> = +1 stardust
            </div>
            <div class="instruction">
                <strong>🟡 Yellow particles</strong> = +3 stardust (rare)
            </div>
            <div class="instruction">
                <strong>🔴 Red particles</strong> = -2 stardust (very rare, avoid!)
            </div>
            <div class="instruction">
                <strong>⚡ Buy upgrades</strong> to make everything better!
            </div>
        </div>
        
        <!-- Achievements -->
        <div id="achievements">
            <h3 style="color: #ff6b6b; margin-bottom: 10px;">🏆 Achievements</h3>
            <div class="achievement" id="firstParticle">First Particle - Collect 1 stardust</div>
            <div class="achievement" id="stardustCollector">Stardust Collector - Collect 100 stardust</div>
            <div class="achievement" id="planetCreator">Planet Creator - Build your first planet</div>
            <div class="achievement" id="cosmicExplorer">Cosmic Explorer - Reach level 10</div>
            <div class="achievement" id="creatureMaster">Creature Master - Summon 5 cosmic creatures</div>
            <div class="achievement" id="stationCommander">Station Commander - Build 3 space stations</div>
            <div class="achievement" id="universeCreator">Universe Creator - Own 20 planets</div>
        </div>
    </div>
    
    <script>
        // Game state
        let gameState = {
            stardust: 0,
            stardustPerClick: 1,
            stardustPerSec: 0,
            particleSpawnRate: 1,
            particleSize: 1,
            particleLifetime: 1,
            criticalClickChance: 0,
            stardustLuck: 0,
            particleMagnet: false,
            stardustReactor: 0,
            autoUpgrader: false,
            cosmicWisdom: 0,
            timeWarp: false,
            cosmicStorm: false,
            infinityCore: 0,
            voidHarvester: false,
            autoCollector: false,
            planetBuilder: false,
            planets: [],
            creatures: [],
            stations: [],
            level: 1,
            specialEvents: [],
            upgrades: {
                particleSpawn: { level: 0, cost: 10, effect: 1 },
                stardustMultiplier: { level: 0, cost: 50, effect: 2 },
                autoCollector: { level: 0, cost: 100, effect: 1 },
                planetBuilder: { level: 0, cost: 500, effect: 1 },
                creatureSummoner: { level: 0, cost: 1000, effect: 1 },
                stationBuilder: { level: 0, cost: 2500, effect: 1 },
                particleSize: { level: 0, cost: 75, effect: 1.5 },
                tapMultiplier: { level: 0, cost: 200, effect: 2 },
                criticalClick: { level: 0, cost: 300, effect: 1 },
                particleLifetime: { level: 0, cost: 150, effect: 1 },
                stardustLuck: { level: 0, cost: 400, effect: 1 },
                autoUpgrader: { level: 0, cost: 2000, effect: 1 },
                cosmicWisdom: { level: 0, cost: 5000, effect: 1 },
                timeWarp: { level: 0, cost: 10000, effect: 1 },
                particleMagnet: { level: 0, cost: 800, effect: 1 },
                stardustReactor: { level: 0, cost: 1500, effect: 1 },
                quantumLeap: { level: 0, cost: 3000, effect: 1 },
                cosmicStorm: { level: 0, cost: 7500, effect: 1 },
                infinityCore: { level: 0, cost: 20000, effect: 1 },
                voidHarvester: { level: 0, cost: 50000, effect: 1 }
            },
            achievements: {
                firstParticle: false,
                stardustCollector: false,
                planetCreator: false,
                cosmicExplorer: false,
                creatureMaster: false,
                stationCommander: false,
                universeCreator: false
            }
        };
        
        // Planet types
        const planetTypes = [
            { emoji: '🌍', name: 'Earth', color: '#4CAF50', cost: 500 },
            { emoji: '🔥', name: 'Fire', color: '#FF5722', cost: 1000 },
            { emoji: '💧', name: 'Water', color: '#2196F3', cost: 2000 },
            { emoji: '⚡', name: 'Electric', color: '#FFC107', cost: 4000 },
            { emoji: '❄️', name: 'Ice', color: '#00BCD4', cost: 8000 },
            { emoji: '🌙', name: 'Moon', color: '#9E9E9E', cost: 16000 },
            { emoji: '☀️', name: 'Sun', color: '#FF9800', cost: 32000 },
            { emoji: '🪐', name: 'Gas Giant', color: '#E91E63', cost: 64000 },
            { emoji: '⭐', name: 'Star', color: '#FFEB3B', cost: 128000 },
            { emoji: '🌌', name: 'Black Hole', color: '#673AB7', cost: 256000 },
            { emoji: '👾', name: 'Alien World', color: '#00FF88', cost: 512000 },
            { emoji: '🌈', name: 'Rainbow Planet', color: '#FF1493', cost: 1024000 },
            { emoji: '💎', name: 'Crystal World', color: '#00FFFF', cost: 2048000 },
            { emoji: '🎭', name: 'Theater Planet', color: '#FF69B4', cost: 4096000 },
            { emoji: '🎪', name: 'Circus World', color: '#FFD700', cost: 8192000 }
        ];
        
        // Cosmic creatures
        const cosmicCreatures = [
            { emoji: '🐉', name: 'Space Dragon', cost: 1000, bonus: 5 },
            { emoji: '🦄', name: 'Cosmic Unicorn', cost: 2500, bonus: 10 },
            { emoji: '🦋', name: 'Stellar Butterfly', cost: 5000, bonus: 20 },
            { emoji: '🐙', name: 'Void Octopus', cost: 10000, bonus: 50 },
            { emoji: '🦕', name: 'Space Dinosaur', cost: 25000, bonus: 100 },
            { emoji: '🦚', name: 'Nebula Phoenix', cost: 50000, bonus: 200 },
            { emoji: '🦜', name: 'Quantum Parrot', cost: 100000, bonus: 500 },
            { emoji: '🦢', name: 'Cosmic Swan', cost: 250000, bonus: 1000 }
        ];
        
        // Space stations
        const spaceStations = [
            { emoji: '🛸', name: 'UFO Station', cost: 5000, bonus: 2 },
            { emoji: '🚀', name: 'Rocket Base', cost: 15000, bonus: 5 },
            { emoji: '🛰️', name: 'Satellite Hub', cost: 50000, bonus: 10 },
            { emoji: '🌌', name: 'Wormhole Gate', cost: 150000, bonus: 25 },
            { emoji: '⚡', name: 'Energy Core', cost: 500000, bonus: 50 },
            { emoji: '🎭', name: 'Entertainment Hub', cost: 1500000, bonus: 100 }
        ];
        
        // Initialize game
        function init() {
            createStarfield();
            startGameLoop();
            spawnParticles();
            
            // Start with no planets - you need to earn them!
            console.log('Game started! Click particles to earn stardust and build planets!');
        }
        
        // Create animated starfield
        function createStarfield() {
            const starfield = document.getElementById('starfield');
            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = Math.random() * 3 + 1 + 'px';
                star.style.height = star.style.width;
                star.style.animationDelay = Math.random() * 3 + 's';
                starfield.appendChild(star);
            }
        }
        
        // Spawn cosmic particles
        function spawnParticles() {
            const gameArea = document.getElementById('gameArea');
            const particle = document.createElement('div');
            
            // Random particle type
            const rand = Math.random();
            let particleType = 'normal';
            let particleValue = 1;
            
            // Apply stardust luck
            const luckBonus = gameState.stardustLuck;
            const redChance = Math.max(0.001, 0.02 - luckBonus * 0.005);
            const yellowChance = Math.min(0.4, 0.20 + luckBonus * 0.05);
            
            if (rand < redChance) { // Red (bad) - affected by luck
                particleType = 'bad';
                particleValue = -2;
                particle.className = 'particle bad-particle';
                particle.style.background = 'radial-gradient(circle, #ff4444, #cc0000)';
            } else if (rand < yellowChance) { // Yellow (good) - affected by luck
                particleType = 'good';
                particleValue = 3;
                particle.className = 'particle good-particle';
                particle.style.background = 'radial-gradient(circle, #ffff44, #ffcc00)';
            } else { // Blue (normal)
                particleType = 'normal';
                particleValue = 1;
                particle.className = 'particle';
                particle.style.background = 'radial-gradient(circle, #fff, #4ecdc4)';
            }
            
            // Apply particle size upgrade
            const size = 8 * gameState.particleSize;
            particle.style.width = size + 'px';
            particle.style.height = size + 'px';
            
            particle.style.left = Math.random() * (gameArea.offsetWidth - size) + 'px';
            particle.style.top = Math.random() * (gameArea.offsetHeight - size) + 'px';
            particle.style.animationDelay = Math.random() * 2 + 's';
            
            particle.onclick = function() {
                collectParticle(this, particleValue, particleType);
            };
            
            gameArea.appendChild(particle);
            
            // Auto-collect if upgrade is active
            if (gameState.autoCollector) {
                setTimeout(() => {
                    if (particle.parentNode) {
                        collectParticle(particle, particleValue, particleType);
                    }
                }, 2000);
            }
            
            // Remove particle after some time
            setTimeout(() => {
                if (particle.parentNode) {
                    particle.remove();
                }
            }, 8000);
            
            // Schedule next spawn (prevent division by zero)
            const spawnDelay = Math.max(100, 3000 / Math.max(0.1, gameState.particleSpawnRate));
            setTimeout(spawnParticles, spawnDelay);
        }
        
        // Collect particle
        function collectParticle(particle, value, type) {
            const rect = particle.getBoundingClientRect();
            const x = rect.left + rect.width / 2;
            const y = rect.top + rect.height / 2;
            
            // Calculate final value with tap multiplier
            let finalValue = value * gameState.stardustPerClick;
            
            // Apply void harvester (red particles give stardust instead of taking it)
            if (type === 'bad' && gameState.voidHarvester) {
                finalValue = Math.abs(finalValue);
            }
            
            // Apply critical click
            if (Math.random() < gameState.criticalClickChance / 100) {
                finalValue *= 5;
                showCosmicEvent(`🎯 CRITICAL CLICK! 5x stardust!`);
            }
            
            // Create collection effect
            const effect = document.createElement('div');
            effect.className = 'collect-effect';
            effect.textContent = (finalValue >= 0 ? '+' : '') + finalValue;
            effect.style.left = x + 'px';
            effect.style.top = y + 'px';
            
            // Color the effect based on particle type
            if (type === 'bad') {
                effect.style.color = '#ff4444';
            } else if (type === 'good') {
                effect.style.color = '#ffcc00';
            } else {
                effect.style.color = '#4ecdc4';
            }
            
            document.body.appendChild(effect);
            
            // Remove effect after animation
            setTimeout(() => effect.remove(), 1000);
            
            // Add stardust (can be negative for bad particles)
            addStardust(finalValue);
            
            // Remove particle
            particle.remove();
        }
        
        // Add stardust
        function addStardust(amount) {
            gameState.stardust += amount;
            // Prevent negative stardust
            if (gameState.stardust < 0) {
                gameState.stardust = 0;
            }
            updateDisplay();
            checkAchievements();
        }
        
        // Buy upgrade
        function buyUpgrade(type) {
            const upgrade = gameState.upgrades[type];
            if (gameState.stardust >= upgrade.cost) {
                gameState.stardust -= upgrade.cost;
                upgrade.level++;
                
                // Apply upgrade effects
                switch(type) {
                    case 'particleSpawn':
                        gameState.particleSpawnRate += 0.5;
                        break;
                    case 'stardustMultiplier':
                        gameState.stardustPerClick *= 2;
                        break;
                    case 'autoCollector':
                        gameState.autoCollector = true;
                        break;
                    case 'planetBuilder':
                        gameState.planetBuilder = true;
                        break;
                    case 'creatureSummoner':
                        // Already handled in game loop
                        break;
                    case 'stationBuilder':
                        // Already handled in game loop
                        break;
                    case 'particleSize':
                        gameState.particleSize *= 1.5;
                        break;
                    case 'tapMultiplier':
                        gameState.stardustPerClick *= 2;
                        break;
                    case 'criticalClick':
                        gameState.criticalClickChance += 10;
                        break;
                    case 'particleLifetime':
                        gameState.particleLifetime += 0.5;
                        break;
                    case 'stardustLuck':
                        gameState.stardustLuck += 1;
                        break;
                    case 'particleMagnet':
                        gameState.particleMagnet = true;
                        break;
                    case 'stardustReactor':
                        gameState.stardustReactor += 25;
                        break;
                    case 'autoUpgrader':
                        gameState.autoUpgrader = true;
                        break;
                    case 'quantumLeap':
                        // Give 1 hour of stardust (3600 seconds * current stardust per second)
                        const hourOfStardust = gameState.stardustPerSec * 3600;
                        gameState.stardust += hourOfStardust;
                        showCosmicEvent(`🌌 Quantum Leap! Gained ${Math.floor(hourOfStardust)} stardust!`);
                        break;
                    case 'cosmicWisdom':
                        gameState.cosmicWisdom += 10;
                        break;
                    case 'cosmicStorm':
                        gameState.cosmicStorm = true;
                        setTimeout(() => gameState.cosmicStorm = false, 30000);
                        showCosmicEvent(`🌪️ Cosmic Storm! 10x particles for 30 seconds!`);
                        break;
                    case 'timeWarp':
                        gameState.timeWarp = true;
                        setTimeout(() => gameState.timeWarp = false, 60000);
                        showCosmicEvent(`⏱️ Time Warp! Game runs 2x faster for 1 minute!`);
                        break;
                    case 'infinityCore':
                        gameState.infinityCore += 100;
                        break;
                    case 'voidHarvester':
                        gameState.voidHarvester = true;
                        break;
                }
                
                // Increase cost
                upgrade.cost = Math.floor(upgrade.cost * 1.5);
                
                updateDisplay();
                
                // Show upgrade effect
                showCosmicEvent(`🚀 ${type} upgraded to level ${upgrade.level}!`);
            }
        }
        
        // Trigger random cosmic events
        function triggerRandomEvent() {
            const events = [
                { message: "🌟 Stardust Storm! All particles give 3x stardust for 30 seconds!", effect: () => { gameState.stardustPerClick *= 3; setTimeout(() => gameState.stardustPerClick /= 3, 30000); } },
                { message: "🪐 Cosmic Alignment! All planets produce 2x stardust for 1 minute!", effect: () => { gameState.planets.forEach(p => p.stardustPerSec *= 2); setTimeout(() => gameState.planets.forEach(p => p.stardustPerSec /= 2), 60000); } },
                { message: "🐉 Creature Migration! 5 cosmic creatures visit your universe!", effect: () => { for(let i = 0; i < 5; i++) summonCreature(); } },
                { message: "🛸 Alien Contact! Space stations get a temporary boost!", effect: () => { gameState.stations.forEach(s => s.stardustPerSec *= 1.5); setTimeout(() => gameState.stations.forEach(s => s.stardustPerSec /= 1.5), 45000); } },
                { message: "✨ Stellar Wind! Particle spawn rate doubled for 45 seconds!", effect: () => { gameState.particleSpawnRate *= 2; setTimeout(() => gameState.particleSpawnRate /= 2, 45000); } },
                { message: "🎉 Cosmic Celebration! You get a bonus 1000 stardust!", effect: () => { addStardust(1000); } }
            ];
            
            const event = events[Math.floor(Math.random() * events.length)];
            event.effect();
            showCosmicEvent(event.message);
        }
        
        // Build planet
        function buildPlanet() {
            const availablePlanets = planetTypes.filter(p => p.cost <= gameState.stardust);
            if (availablePlanets.length > 0) {
                const planet = availablePlanets[availablePlanets.length - 1];
                gameState.stardust -= planet.cost;
                gameState.planets.push({
                    type: planet,
                    level: 1,
                    stardustPerSec: planet.cost
                });
                
                updateDisplay();
                showCosmicEvent(`🪐 New ${planet.name} planet created for ${planet.cost} stardust!`);
                
                if (!gameState.achievements.planetCreator) {
                    unlockAchievement('planetCreator');
                }
            } else {
                showCosmicEvent(`❌ Not enough stardust! You need more stardust to build planets!`);
            }
        }
        
        // Summon creature
        function summonCreature() {
            const availableCreatures = cosmicCreatures.filter(c => c.cost <= gameState.stardust);
            if (availableCreatures.length > 0) {
                const creature = availableCreatures[availableCreatures.length - 1];
                gameState.stardust -= creature.cost;
                gameState.creatures.push({
                    type: creature,
                    level: 1,
                    stardustPerSec: creature.bonus * 10
                });
                
                updateDisplay();
                showCosmicEvent(`🐉 ${creature.name} summoned to your universe!`);
                
                if (gameState.creatures.length >= 5 && !gameState.achievements.creatureMaster) {
                    unlockAchievement('creatureMaster');
                }
            }
        }
        
        // Build space station
        function buildStation() {
            const availableStations = spaceStations.filter(s => s.cost <= gameState.stardust);
            if (availableStations.length > 0) {
                const station = availableStations[availableStations.length - 1];
                gameState.stardust -= station.cost;
                gameState.stations.push({
                    type: station,
                    level: 1,
                    stardustPerSec: station.bonus * 20
                });
                
                updateDisplay();
                showCosmicEvent(`🛸 ${station.name} constructed in orbit!`);
                
                if (gameState.stations.length >= 3 && !gameState.achievements.stationCommander) {
                    unlockAchievement('stationCommander');
                }
            }
        }
        
        // Upgrade planet
        function upgradePlanet(index) {
            const planet = gameState.planets[index];
            const upgradeCost = planet.type.cost * planet.level;
            
            if (gameState.stardust >= upgradeCost) {
                gameState.stardust -= upgradeCost;
                planet.level++;
                planet.stardustPerSec = planet.type.cost * planet.level;
                
                updateDisplay();
                showCosmicEvent(`🚀 ${planet.type.name} planet upgraded to level ${planet.level}!`);
            }
        }
        
        // Show cosmic event
        function showCosmicEvent(message) {
            const event = document.createElement('div');
            event.className = 'cosmic-event';
            event.innerHTML = `
                <h2 style="color: #4ecdc4; margin-bottom: 10px;">🌟 Cosmic Event! 🌟</h2>
                <p>${message}</p>
            `;
            document.body.appendChild(event);
            
            setTimeout(() => event.remove(), 3000);
        }
        
        // Check achievements
        function checkAchievements() {
            if (gameState.stardust >= 1 && !gameState.achievements.firstParticle) {
                unlockAchievement('firstParticle');
            }
            if (gameState.stardust >= 100 && !gameState.achievements.stardustCollector) {
                unlockAchievement('stardustCollector');
            }
            if (gameState.planets.length >= 1 && !gameState.achievements.planetCreator) {
                unlockAchievement('planetCreator');
            }
            if (gameState.level >= 10 && !gameState.achievements.cosmicExplorer) {
                unlockAchievement('cosmicExplorer');
            }
            if (gameState.planets.length >= 20 && !gameState.achievements.universeCreator) {
                unlockAchievement('universeCreator');
            }
        }
        
        // Unlock achievement
        function unlockAchievement(id) {
            gameState.achievements[id] = true;
            const achievement = document.getElementById(id);
            achievement.classList.add('unlocked');
            
            showCosmicEvent(`🏆 Achievement Unlocked: ${achievement.textContent}!`);
        }
        
        // Update display
        function updateDisplay() {
            document.getElementById('stardust').textContent = Math.floor(gameState.stardust);
            document.getElementById('stardustPerSec').textContent = gameState.stardustPerSec.toFixed(1);
            document.getElementById('planetCount').textContent = gameState.planets.length;
            document.getElementById('creatureCount').textContent = gameState.creatures.length;
            document.getElementById('stationCount').textContent = gameState.stations.length;
            document.getElementById('playerLevel').textContent = gameState.level;
            
            // Update upgrade costs
            document.getElementById('particleSpawnCost').textContent = gameState.upgrades.particleSpawn.cost;
            document.getElementById('stardustMultiplierCost').textContent = gameState.upgrades.stardustMultiplier.cost;
            document.getElementById('autoCollectorCost').textContent = gameState.upgrades.autoCollector.cost;
            document.getElementById('planetBuilderCost').textContent = gameState.upgrades.planetBuilder.cost;
            document.getElementById('creatureSummonerCost').textContent = gameState.upgrades.creatureSummoner.cost;
            document.getElementById('stationBuilderCost').textContent = gameState.upgrades.stationBuilder.cost;
            document.getElementById('particleSizeCost').textContent = gameState.upgrades.particleSize.cost;
            document.getElementById('tapMultiplierCost').textContent = gameState.upgrades.tapMultiplier.cost;
            document.getElementById('criticalClickCost').textContent = gameState.upgrades.criticalClick.cost;
            document.getElementById('particleLifetimeCost').textContent = gameState.upgrades.particleLifetime.cost;
            document.getElementById('stardustLuckCost').textContent = gameState.upgrades.stardustLuck.cost;
            document.getElementById('particleMagnetCost').textContent = gameState.upgrades.particleMagnet.cost;
            document.getElementById('stardustReactorCost').textContent = gameState.upgrades.stardustReactor.cost;
            document.getElementById('autoUpgraderCost').textContent = gameState.upgrades.autoUpgrader.cost;
            document.getElementById('quantumLeapCost').textContent = gameState.upgrades.quantumLeap.cost;
            document.getElementById('cosmicWisdomCost').textContent = gameState.upgrades.cosmicWisdom.cost;
            document.getElementById('cosmicStormCost').textContent = gameState.upgrades.cosmicStorm.cost;
            document.getElementById('timeWarpCost').textContent = gameState.upgrades.timeWarp.cost;
            document.getElementById('infinityCoreCost').textContent = gameState.upgrades.infinityCore.cost;
            document.getElementById('voidHarvesterCost').textContent = gameState.upgrades.voidHarvester.cost;
            
            // Update planet display
            updatePlanetDisplay();
        }
        
        // Update planet display
        function updatePlanetDisplay() {
            const planetDisplay = document.getElementById('planetDisplay');
            if (!planetDisplay) return; // Safety check
            
            planetDisplay.innerHTML = '';
            
            gameState.planets.forEach((planet, index) => {
                const planetDiv = document.createElement('div');
                planetDiv.className = 'planet';
                planetDiv.style.background = `radial-gradient(circle, ${planet.type.color}, #333)`;
                planetDiv.style.color = planet.type.color;
                planetDiv.innerHTML = planet.type.emoji;
                planetDiv.onclick = () => upgradePlanet(index);
                
                const levelDiv = document.createElement('div');
                levelDiv.className = 'planet-level';
                levelDiv.textContent = `Lv.${planet.level}`;
                planetDiv.appendChild(levelDiv);
                
                planetDisplay.appendChild(planetDiv);
            });
            
            // Add build planet button if no planets or can afford new one
            const canBuild = planetTypes.some(p => p.cost <= gameState.stardust);
            if (gameState.planets.length === 0 || canBuild) {
                const buildButton = document.createElement('div');
                buildButton.className = 'planet';
                buildButton.style.background = 'radial-gradient(circle, #4ecdc4, #333)';
                buildButton.style.color = '#4ecdc4';
                buildButton.innerHTML = '🛠️';
                buildButton.onclick = buildPlanet;
                buildButton.title = 'Build new planet';
                planetDisplay.appendChild(buildButton);
            }
            
            // Add creature summon button
            const canSummonCreature = cosmicCreatures.some(c => c.cost <= gameState.stardust);
            if (canSummonCreature) {
                const creatureButton = document.createElement('div');
                creatureButton.className = 'planet';
                creatureButton.style.background = 'radial-gradient(circle, #ff6b6b, #333)';
                creatureButton.style.color = '#ff6b6b';
                creatureButton.innerHTML = '🐉';
                creatureButton.onclick = summonCreature;
                creatureButton.title = 'Summon creature';
                planetDisplay.appendChild(creatureButton);
            }
            
            // Add station build button
            const canBuildStation = spaceStations.some(s => s.cost <= gameState.stardust);
            if (canBuildStation) {
                const stationButton = document.createElement('div');
                stationButton.className = 'planet';
                stationButton.style.background = 'radial-gradient(circle, #45b7d1, #333)';
                stationButton.style.color = '#45b7d1';
                stationButton.innerHTML = '🛸';
                stationButton.onclick = buildStation;
                stationButton.title = 'Build station';
                planetDisplay.appendChild(stationButton);
            }
        }
        
        // Game loop
        function startGameLoop() {
            setInterval(() => {
                // Calculate stardust from planets, creatures, and stations
                const planetStardust = gameState.planets.reduce((total, planet) => total + planet.stardustPerSec, 0);
                const creatureStardust = gameState.creatures.reduce((total, creature) => total + creature.stardustPerSec, 0);
                const stationStardust = gameState.stations.reduce((total, station) => total + station.stardustPerSec, 0);
                gameState.stardustPerSec = planetStardust + creatureStardust + stationStardust;
                
                // Add the calculated stardust
                if (gameState.stardustPerSec > 0) {
                    gameState.stardust += gameState.stardustPerSec * 0.5;
                    // Only log occasionally to reduce spam
                    if (Math.random() < 0.1) {
                        console.log('Planets:', planetStardust, 'Creatures:', creatureStardust, 'Stations:', stationStardust, 'Total added:', gameState.stardustPerSec * 0.5);
                    }
                } else {
                    // Fallback: add 0.5 stardust if no planets/creatures/stations
                    gameState.stardust += 0.5;
                    gameState.stardustPerSec = 0.5;
                }
                updateDisplay();
                
                // Auto-build planets if upgrade is active
                if (gameState.planetBuilder && Math.random() < 0.01) {
                    buildPlanet();
                }
                
                // Auto-summon creatures if upgrade is active
                if (gameState.upgrades.creatureSummoner.level > 0 && Math.random() < 0.005) {
                    summonCreature();
                }
                
                // Auto-build stations if upgrade is active
                if (gameState.upgrades.stationBuilder.level > 0 && Math.random() < 0.003) {
                    buildStation();
                }
                
                // Random cosmic events
                if (Math.random() < 0.001) {
                    triggerRandomEvent();
                }
                
                // Level up based on total stardust
                const newLevel = Math.floor(Math.log10(gameState.stardust + 1)) + 1;
                if (newLevel > gameState.level) {
                    gameState.level = newLevel;
                    showCosmicEvent(`🎉 Level Up! You are now level ${gameState.level}!`);
                }
                
                updateDisplay();
            }, 1000);
        }
        

        
        // Initialize the game
        init();
        
        // Add keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.key === 'b' || e.key === 'B') {
                buildPlanet();
            }
            if (e.key === 'c' || e.key === 'C') {
                summonCreature();
            }
            if (e.key === 's' || e.key === 'S') {
                buildStation();
            }
            if (e.key === 'e' || e.key === 'E') {
                triggerRandomEvent();
            }
        });
        
        console.log('🌟 Cosmic Idle Adventure loaded! Ready to explore the universe! 🚀');
    </script>
</body>
</html>
