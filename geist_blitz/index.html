<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geist Blitz - Memory Speed Game</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            color: white;
        }
        
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .score-board {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        
        .score {
            font-size: 1.5em;
            margin: 0 20px;
        }
        
        .main-items {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        
        .item.clicked {
            background: #4CAF50;
            color: white;
            transform: scale(0.95);
        }
        
        .item.wrong {
            background: #f44336;
            color: white;
            animation: shake 0.5s;
        }
        
        .item-icon {
            font-size: 3em;
            margin-bottom: 10px;
            display: block;
        }
        
        .item-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }
        
        .item.clicked .item-name,
        .item.wrong .item-name {
            color: white;
        }
        
        .card-section {
            background: rgba(255,255,255,0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            margin-bottom: 30px;
        }
        
        .card-title {
            font-size: 2em;
            margin-bottom: 20px;
            color: #FFD700;
        }
        
        .card-items {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
        }
        
        .card-item {
            background: white;
            border-radius: 12px;
            padding: 15px;
            color: #333;
        }
        
        .card-icon {
            font-size: 2.5em;
            margin-bottom: 8px;
            display: block;
        }
        
        .card-name {
            font-size: 1em;
            font-weight: bold;
        }
        
        .controls {
            margin-top: 30px;
        }
        
        .btn {
            background: #FF6B6B;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 25px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: #FF5252;
            transform: translateY(-2px);
        }
        
        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .timer {
            font-size: 2em;
            color: #FFD700;
            margin: 20px 0;
        }
        
        .game-over {
            background: rgba(0,0,0,0.8);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .game-over-content {
            background: white;
            color: #333;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .instructions {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ðŸ‘» Geist Blitz</h1>
        
        <div class="instructions">
            <h3>ðŸŽ¯ How to Play:</h3>
            <p>Find the EXACT matches between the main items and the card! Click matching items quickly to score points. Wrong clicks lose points!</p>
        </div>
        
        <div class="score-board">
            <span class="score">Score: <span id="score">0</span></span>
            <span class="score">Lives: <span id="lives">3</span></span>
        </div>
        
        <div class="timer" id="timer">Time: 30s</div>
        
        <div class="main-items" id="mainItems">
            <!-- Main items will be generated here -->
        </div>
        
        <div class="card-section">
            <div class="card-title">ðŸŽ´ Current Card</div>
            <div class="card-items" id="cardItems">
                <!-- Card items will be generated here -->
            </div>
        </div>
        
        <div class="controls">
            <button class="btn" id="newCardBtn" onclick="newCard()">ðŸ”„ New Card</button>
            <button class="btn" id="newGameBtn" onclick="newGame()">ðŸŽ® New Game</button>
        </button>
    </div>
    
    <div class="game-over" id="gameOver">
        <div class="game-over-content">
            <h2>Game Over!</h2>
            <p>Final Score: <span id="finalScore">0</span></p>
            <button class="btn" onclick="newGame()">Play Again</button>
        </div>
    </div>

    <script>
        let score = 0;
        let lives = 3;
        let timeLeft = 30;
        let gameTimer;
        let currentMatches = [];
        let gameActive = false;
        
        // Item definitions with different variations
        const itemVariations = {
            ghost: {
                name: "Ghost",
                icon: "ðŸ‘»",
                variations: [
                    { color: "white", icon: "ðŸ‘»" },
                    { color: "blue", icon: "ðŸ‘»" },
                    { color: "green", icon: "ðŸ‘»" },
                    { color: "red", icon: "ðŸ‘»" },
                    { color: "purple", icon: "ðŸ‘»" }
                ]
            },
            book: {
                name: "Book",
                icon: "ðŸ“š",
                variations: [
                    { color: "blue", icon: "ðŸ“š" },
                    { color: "red", icon: "ðŸ“š" },
                    { color: "green", icon: "ðŸ“š" },
                    { color: "yellow", icon: "ðŸ“š" },
                    { color: "purple", icon: "ðŸ“š" }
                ]
            },
            bottle: {
                name: "Bottle",
                icon: "ðŸ¾",
                variations: [
                    { color: "green", icon: "ðŸ¾" },
                    { color: "blue", icon: "ðŸ¾" },
                    { color: "red", icon: "ðŸ¾" },
                    { color: "yellow", icon: "ðŸ¾" },
                    { color: "purple", icon: "ðŸ¾" }
                ]
            },
            mouse: {
                name: "Mouse",
                icon: "ðŸ­",
                variations: [
                    { color: "gray", icon: "ðŸ­" },
                    { color: "brown", icon: "ðŸ­" },
                    { color: "white", icon: "ðŸ­" },
                    { color: "black", icon: "ðŸ­" },
                    { color: "tan", icon: "ðŸ­" }
                ]
            },
            chair: {
                name: "Chair",
                icon: "ðŸª‘",
                variations: [
                    { color: "red", icon: "ðŸª‘" },
                    { color: "brown", icon: "ðŸª‘" },
                    { color: "black", icon: "ðŸª‘" },
                    { color: "white", icon: "ðŸª‘" },
                    { color: "blue", icon: "ðŸª‘" }
                ]
            }
        };
        
        const itemKeys = Object.keys(itemVariations);
        
        function generateMainItems() {
            const mainItemsContainer = document.getElementById('mainItems');
            mainItemsContainer.innerHTML = '';
            
            itemKeys.forEach(key => {
                const item = itemVariations[key];
                const div = document.createElement('div');
                div.className = 'item';
                div.dataset.item = key;
                div.dataset.color = item.variations[0].color;
                div.innerHTML = `
                    <span class="item-icon">${item.variations[0].icon}</span>
                    <div class="item-name">${item.variations[0].color} ${item.name}</div>
                `;
                div.onclick = () => checkMatch(key, item.variations[0].color);
                mainItemsContainer.appendChild(div);
            });
        }
        
        function generateCard() {
            const cardItemsContainer = document.getElementById('cardItems');
            cardItemsContainer.innerHTML = '';
            currentMatches = [];
            
            // Randomly decide if this card has matches or is completely unrelated
            const hasMatches = Math.random() > 0.3; // 70% chance of having matches
            
            if (hasMatches) {
                // Generate card with some matching items
                const numMatches = Math.floor(Math.random() * 3) + 1; // 1-3 matches
                const shuffledItems = [...itemKeys].sort(() => Math.random() - 0.5);
                
                for (let i = 0; i < 5; i++) {
                    const itemKey = shuffledItems[i];
                    const item = itemVariations[itemKey];
                    const div = document.createElement('div');
                    div.className = 'card-item';
                    
                    if (i < numMatches) {
                        // This is a matching item
                        const mainItem = document.querySelector(`[data-item="${itemKey}"]`);
                        const mainColor = mainItem.dataset.color;
                        div.innerHTML = `
                            <span class="card-icon">${item.icon}</span>
                            <div class="card-name">${mainColor} ${item.name}</div>
                        `;
                        currentMatches.push({ item: itemKey, color: mainColor });
                    } else {
                        // This is a different variation
                        const variation = item.variations[Math.floor(Math.random() * item.variations.length)];
                        div.innerHTML = `
                            <span class="card-icon">${variation.icon}</span>
                            <div class="card-name">${variation.color} ${item.name}</div>
                        `;
                    }
                    
                    cardItemsContainer.appendChild(div);
                }
            } else {
                // Generate completely unrelated card
                const unrelatedItems = [
                    { icon: "ðŸŒŸ", name: "Star" },
                    { icon: "ðŸŽˆ", name: "Balloon" },
                    { icon: "ðŸŽª", name: "Circus" },
                    { icon: "ðŸš—", name: "Car" },
                    { icon: "ðŸŒº", name: "Flower" }
                ];
                
                unrelatedItems.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'card-item';
                    div.innerHTML = `
                        <span class="card-icon">${item.icon}</span>
                        <div class="card-name">${item.name}</div>
                    `;
                    cardItemsContainer.appendChild(div);
                });
            }
        }
        
        function checkMatch(itemKey, color) {
            if (!gameActive) return;
            
            const itemElement = document.querySelector(`[data-item="${itemKey}"]`);
            if (itemElement.classList.contains('clicked')) return;
            
            const isMatch = currentMatches.some(match => 
                match.item === itemKey && match.color === color
            );
            
            if (isMatch) {
                // Correct match!
                score++;
                itemElement.classList.add('clicked');
                document.getElementById('score').textContent = score;
                
                // Remove from current matches
                currentMatches = currentMatches.filter(match => 
                    !(match.item === itemKey && match.color === color)
                );
                
                // Check if all matches found
                if (currentMatches.length === 0) {
                    setTimeout(() => {
                        newCard();
                    }, 1000);
                }
            } else {
                // Wrong click!
                lives--;
                document.getElementById('lives').textContent = lives;
                itemElement.classList.add('wrong');
                
                setTimeout(() => {
                    itemElement.classList.remove('wrong');
                }, 500);
                
                if (lives <= 0) {
                    endGame();
                }
            }
        }
        
        function newCard() {
            generateCard();
            // Reset clicked state
            document.querySelectorAll('.item').forEach(item => {
                item.classList.remove('clicked');
            });
        }
        
        function startTimer() {
            gameTimer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
                
                if (timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }
        
        function endGame() {
            gameActive = false;
            clearInterval(gameTimer);
            document.getElementById('finalScore').textContent = score;
            document.getElementById('gameOver').style.display = 'flex';
        }
        
        function newGame() {
            score = 0;
            lives = 3;
            timeLeft = 30;
            gameActive = true;
            
            document.getElementById('score').textContent = score;
            document.getElementById('lives').textContent = lives;
            document.getElementById('timer').textContent = `Time: ${timeLeft}s`;
            document.getElementById('gameOver').style.display = 'none';
            
            generateMainItems();
            generateCard();
            startTimer();
        }
        
        // Initialize game
        window.onload = () => {
            generateMainItems();
            generateCard();
        };
    </script>
</body>
</html>
