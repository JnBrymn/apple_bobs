<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resource Gatherer</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #1a1a1a;
            font-family: Arial, sans-serif;
            color: white;
        }

        #game {
            position: relative;
            width: 800px;
            height: 600px;
            background: #2a2a2a;
            border-radius: 10px;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        #resource {
            position: absolute;
            width: 100px;
            height: 100px;
            background: #8B4513;
            border-radius: 10px;
            left: 350px;
            top: 350px;
            transition: transform 0.1s;
            cursor: pointer;
            z-index: 5;
        }

        #hammer {
            position: absolute;
            width: 60px;
            height: 200px;
            background: #696969;
            left: 150px;
            top: 300px;
            transform-origin: bottom center;
            transition: transform 0.1s;
            z-index: 5;
        }

        #hammer::after {
            content: '';
            position: absolute;
            width: 100px;
            height: 40px;
            background: #4a4a4a;
            top: 0;
            left: -20px;
            border-radius: 5px;
        }

        .material-button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            color: white;
            font-size: 14px;
            white-space: nowrap;
            margin: 2px 0;
        }

        .material-button:hover {
            transform: scale(1.1);
        }

        #wood { background: #8B4513; color: white; }
        #rock { background: #808080; color: white; }
        #iron { background: #A19D94; color: white; }
        #steel { background: #71797E; color: white; }
        #gold { background: #FFD700; color: black; }
        #diamond { background: #B9F2FF; color: black; }
        #moon { background: #E6E6FA; color: black; }
        #rubber { background: #FF69B4; color: black; }
        #concrete { background: #708090; color: white; }
        #paper { background: #FFFFFF; color: black; }
        #plastic { background: #ADD8E6; color: black; }
        #glass { background: #87CEEB; color: black; }

        #resources {
            position: absolute;
            top: 50px;
            right: 50px;
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 5px;
            z-index: 10;
            display: none; /* Hide the resources display */
        }

        #money {
            position: absolute;
            bottom: 50px;
            right: 50px;
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 5px;
            color: gold;
            font-weight: bold;
            font-size: 18px;
            z-index: 10;
        }

        #hammerPower {
            position: absolute;
            bottom: 50px;
            left: 50px;
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 5px;
            color: #4CAF50;
            font-weight: bold;
            font-size: 18px;
            z-index: 10;
        }

        #shop {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            padding: 20px;
            border-radius: 10px;
            display: none;
            z-index: 100;
            width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        .shop-header {
            text-align: center;
            color: #4CAF50;
            margin-bottom: 20px;
            font-size: 24px;
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
        }

        .shop-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .shop-tab {
            padding: 10px 20px;
            background: #333;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .shop-tab.active {
            background: #4CAF50;
        }

        .shop-content {
            display: none;
        }

        .shop-content.active {
            display: block;
        }

        .material-shop-item {
            padding: 15px;
            margin: 10px 0;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            text-align: left;
            font-size: 16px;
        }

        .material-shop-item:hover {
            background: #45a049;
            transform: scale(1.02);
        }

        .material-shop-item:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .material-cost {
            color: gold;
            font-weight: bold;
        }

        .shop-item {
            padding: 15px;
            margin: 10px 0;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            width: 100%;
            text-align: center;
            font-size: 16px;
        }

        .shop-item:hover {
            background: #45a049;
            transform: scale(1.02);
        }

        .shop-item:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .shop-item.premium {
            background: #FFD700;
            color: black;
        }

        .shop-item.premium:hover {
            background: #FFC107;
        }

        .shop-item.legendary {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: black;
        }

        .shop-item.legendary:hover {
            background: linear-gradient(45deg, #FFC107, #FF8C00);
        }

        #shopButton {
            position: absolute;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            z-index: 10;
        }

        #shopButton:hover {
            background: #45a049;
        }

        #closeShop {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            color: #4CAF50;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
        }

        #closeShop:hover {
            color: #45a049;
        }

        #hitButton {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 30px;
            font-size: 20px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
        }

        #hitButton:hover {
            background: #45a049;
            transform: translateX(-50%) scale(1.1);
        }

        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            animation: particle 1s forwards;
        }

        @keyframes particle {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        #progress {
            position: absolute;
            bottom: 180px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 20px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
            z-index: 10;
        }

        #progressBar {
            width: 0%;
            height: 100%;
            background: #4CAF50;
            transition: width 0.3s;
        }

        #materialButtons {
            display: none; /* Hide the old material buttons */
        }

        #materialSelection {
            position: absolute;
            top: 50px;
            left: 50px;
            background: rgba(0,0,0,0.5);
            padding: 15px;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 10;
            max-height: 400px;
            overflow-y: auto;
        }

        .material-slot {
            width: 60px;
            height: 60px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            color: white;
            text-shadow: 1px 1px 2px black;
            position: relative;
            opacity: 0.5;
            margin-bottom: 20px; /* Add space for the count display */
        }

        .material-slot.empty {
            display: none;
        }

        .material-count {
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            padding: 2px 5px;
            border-radius: 3px;
            font-size: 10px;
            white-space: nowrap;
            color: white;
            z-index: 100;
            min-width: 40px;
            text-align: center;
        }

        .material-slot:hover {
            transform: scale(1.1);
        }

        .material-slot.selected {
            border-color: #4CAF50;
            box-shadow: 0 0 10px #4CAF50;
            opacity: 1;
        }

        .material-slot.available {
            opacity: 1;
        }

        .material-slot.paper { background: #FFFFFF; color: black; }
        .material-slot.plastic { background: #ADD8E6; color: black; }
        .material-slot.glass { background: #87CEEB; color: black; }
        .material-slot.cardboard { background: #DEB887; color: black; }
        .material-slot.foam { background: #F0F8FF; color: black; }
        .material-slot.wood { background: #8B4513; }
        .material-slot.rock { background: #808080; }
        .material-slot.clay { background: #CD7F32; }
        .material-slot.sand { background: #F4A460; }
        .material-slot.copper { background: #B87333; }
        .material-slot.bronze { background: #CD7F32; }
        .material-slot.brass { background: #B5A642; }
        .material-slot.iron { background: #A19D94; }
        .material-slot.steel { background: #71797E; }
        .material-slot.gold { background: #FFD700; color: black; }
        .material-slot.electrum { background: #E6BE8A; color: black; }
        .material-slot.silver { background: #C0C0C0; color: black; }
        .material-slot.platinum { background: #E5E4E2; color: black; }
        .material-slot.ruby { background: #E0115F; color: white; }
        .material-slot.garnet { background: #9A2A2A; color: white; }
        .material-slot.spinel { background: #FF69B4; color: white; }
        .material-slot.amethyst { background: #9966CC; color: white; }
        .material-slot.tanzanite { background: #9370DB; color: white; }
        .material-slot.aquamarine { background: #7FFFD4; color: black; }
        .material-slot.peridot { background: #98FB98; color: black; }
        .material-slot.emerald { background: #50C878; color: black; }
        .material-slot.sapphire { background: #0F52BA; color: white; }
        .material-slot.topaz { background: #FFC87C; color: black; }
        .material-slot.diamond { background: #B9F2FF; color: black; }
        .material-slot.moon { background: #E6E6FA; color: black; }
        .material-slot.rubber { background: #FF69B4; }
        .material-slot.concrete { background: #708090; }
        .material-slot.obsidian { background: #4B0082; }
        .material-slot.titanium { background: #C0C0C0; }
        .material-slot.uranium { background: #00FF00; }
        .material-slot.netherite { background: #4A4A4A; }
        .material-slot.vibranium { background: #4169E1; }
        .material-slot.adamantium { background: #C0C0C0; }
        .material-slot.unobtainium { background: #FF1493; }
        .material-slot.quantum { background: #00FFFF; }
        .material-slot.darkmatter { background: #000000; }
        .material-slot.antimatter { background: #FF4500; }
        .material-slot.cosmic { background: #9400D3; }
        .material-slot.void { background: #4B0082; }
        .material-slot.crystal { background: #E6E6FA; }
        .material-slot.mythril { background: #B0E0E6; }
        .material-slot.orichalcum { background: #CD853F; }
        .material-slot.etherium { background: #9370DB; }
        .material-slot.chronium { background: #20B2AA; }
        .material-slot.astral { background: #FF69B4; }
        .material-slot.nexus { background: #00CED1; }
        .material-slot.paradox { background: #FF4500; }
        .material-slot.eternity { background: #8A2BE2; }
    </style>
</head>
<body>
    <div id="game">
        <div id="resource"></div>
        <div id="hammer"></div>
        <div id="money">Money: $<span id="moneyCount">0</span></div>
        <div id="hammerPower">Hammer Power: <span id="powerCount">0.5</span>x</div>
        <div id="materialSelection"></div>
        <div id="resources"></div>
        <button id="shopButton">Open Shop (Press S)</button>
        <div id="progress"><div id="progressBar"></div></div>
        <button id="hitButton">Hit!</button>
        <div id="shop">
            <button id="closeShop">×</button>
            <div class="shop-header">Shop</div>
            <div class="shop-tabs">
                <button class="shop-tab active" data-tab="upgrades">Upgrades</button>
                <button class="shop-tab" data-tab="materials">Materials</button>
            </div>
            <div id="upgradesTab" class="shop-content active">
                <button class="shop-item" id="upgrade1">Basic Hammer - $20 (1.5x Power)</button>
                <button class="shop-item" id="upgrade2">Wrecking Ball - $75 (3x Power)</button>
                <button class="shop-item" id="upgrade3">Fire Hammer - $300 (6x Power)</button>
                <button class="shop-item" id="upgrade4">Thunder Hammer - $1000 (12x Power)</button>
                <button class="shop-item premium" id="upgrade5">Diamond Hammer - $3000 (25x Power)</button>
                <button class="shop-item premium" id="upgrade6">Quantum Hammer - $10000 (50x Power)</button>
                <button class="shop-item legendary" id="upgrade7">Cosmic Hammer - $40000 (100x Power)</button>
                <button class="shop-item legendary" id="upgrade8">Infinity Hammer - $150000 (250x Power)</button>
                <button class="shop-item legendary" id="upgrade9" style="background: linear-gradient(45deg, #FFD700, #FF0000);">Everlasting Hammer - $500000 (500x Power)</button>
                <button class="shop-item legendary" id="upgrade10" style="background: linear-gradient(45deg, #000000, #FF0000);">End Hammer - $2000000 (5000x Power)</button>
                <button class="shop-item legendary" id="upgrade11" style="background: linear-gradient(45deg, #FF0000, #00FF00);">Reality Hammer - $5000000 (10000x Power)</button>
                <button class="shop-item legendary" id="upgrade12" style="background: linear-gradient(45deg, #00FF00, #0000FF);">Dimension Hammer - $10000000 (20000x Power)</button>
                <button class="shop-item legendary" id="upgrade13" style="background: linear-gradient(45deg, #0000FF, #FF00FF);">Time Hammer - $25000000 (50000x Power)</button>
                <button class="shop-item legendary" id="upgrade14" style="background: linear-gradient(45deg, #FF00FF, #FFFF00);">Space Hammer - $50000000 (100000x Power)</button>
                <button class="shop-item legendary" id="upgrade15" style="background: linear-gradient(45deg, #FFFF00, #00FFFF);">Void Hammer - $100000000 (200000x Power)</button>
                <button class="shop-item legendary" id="upgrade16" style="background: linear-gradient(45deg, #00FFFF, #FF0000);">Chaos Hammer - $250000000 (500000x Power)</button>
                <button class="shop-item legendary" id="upgrade17" style="background: linear-gradient(45deg, #FF0000, #FFFFFF);">Order Hammer - $500000000 (1000000x Power)</button>
                <button class="shop-item legendary" id="upgrade18" style="background: linear-gradient(45deg, #FFFFFF, #000000);">Creation Hammer - $750000000 (2000000x Power)</button>
                <button class="shop-item legendary" id="winButton" style="background: linear-gradient(45deg, #FF0000, #FFD700);">WIN GAME - $1,000,000,000</button>
            </div>
            <div id="materialsTab" class="shop-content">
                <div style="color: white; margin-bottom: 10px;">Enter quantity to buy:</div>
                <input type="number" id="materialQuantity" min="1" value="1" style="width: 100px; margin-bottom: 10px; padding: 5px;">
                <button class="material-shop-item" id="buyPaper">Paper <span class="material-cost">$1</span></button>
                <button class="material-shop-item" id="buyPlastic">Plastic <span class="material-cost">$2</span></button>
                <button class="material-shop-item" id="buyGlass">Glass <span class="material-cost">$3</span></button>
                <button class="material-shop-item" id="buyCardboard">Cardboard <span class="material-cost">$4</span></button>
                <button class="material-shop-item" id="buyFoam">Foam <span class="material-cost">$4</span></button>
                <button class="material-shop-item" id="buyWood">Wood <span class="material-cost">$5</span></button>
                <button class="material-shop-item" id="buyRock">Rock <span class="material-cost">$10</span></button>
                <button class="material-shop-item" id="buyClay">Clay <span class="material-cost">$12</span></button>
                <button class="material-shop-item" id="buySand">Sand <span class="material-cost">$14</span></button>
                <button class="material-shop-item" id="buyCopper">Copper <span class="material-cost">$16</span></button>
                <button class="material-shop-item" id="buyBronze">Bronze <span class="material-cost">$18</span></button>
                <button class="material-shop-item" id="buyBrass">Brass <span class="material-cost">$20</span></button>
                <button class="material-shop-item" id="buyIron">Iron <span class="material-cost">$25</span></button>
                <button class="material-shop-item" id="buySteel">Steel <span class="material-cost">$40</span></button>
                <button class="material-shop-item" id="buyGold">Gold <span class="material-cost">$100</span></button>
                <button class="material-shop-item" id="buyElectrum">Electrum <span class="material-cost">$125</span></button>
                <button class="material-shop-item" id="buySilver">Silver <span class="material-cost">$150</span></button>
                <button class="material-shop-item" id="buyPlatinum">Platinum <span class="material-cost">$175</span></button>
                <button class="material-shop-item" id="buyRuby">Ruby <span class="material-cost">$200</span></button>
                <button class="material-shop-item" id="buyGarnet">Garnet <span class="material-cost">$210</span></button>
                <button class="material-shop-item" id="buySpinel">Spinel <span class="material-cost">$215</span></button>
                <button class="material-shop-item" id="buyAmethyst">Amethyst <span class="material-cost">$220</span></button>
                <button class="material-shop-item" id="buyTanzanite">Tanzanite <span class="material-cost">$225</span></button>
                <button class="material-shop-item" id="buyAquamarine">Aquamarine <span class="material-cost">$230</span></button>
                <button class="material-shop-item" id="buyPeridot">Peridot <span class="material-cost">$235</span></button>
                <button class="material-shop-item" id="buyEmerald">Emerald <span class="material-cost">$240</span></button>
                <button class="material-shop-item" id="buySapphire">Sapphire <span class="material-cost">$250</span></button>
                <button class="material-shop-item" id="buyTopaz">Topaz <span class="material-cost">$275</span></button>
                <button class="material-shop-item" id="buyDiamond">Diamond <span class="material-cost">$300</span></button>
                <button class="material-shop-item" id="buyMoon">Moon Rock <span class="material-cost">$1000</span></button>
                <button class="material-shop-item" id="buyRubber">Rubber <span class="material-cost">$1500</span></button>
                <button class="material-shop-item" id="buyConcrete">Concrete <span class="material-cost">$2000</span></button>
                <button class="material-shop-item" id="buyObsidian">Obsidian <span class="material-cost">$5000</span></button>
                <button class="material-shop-item" id="buyTitanium">Titanium <span class="material-cost">$7500</span></button>
                <button class="material-shop-item" id="buyUranium">Uranium <span class="material-cost">$15000</span></button>
                <button class="material-shop-item" id="buyNetherite">Netherite <span class="material-cost">$25000</span></button>
                <button class="material-shop-item" id="buyVibranium">Vibranium <span class="material-cost">$50000</span></button>
                <button class="material-shop-item" id="buyAdamantium">Adamantium <span class="material-cost">$100000</span></button>
                <button class="material-shop-item" id="buyUnobtainium">Unobtainium <span class="material-cost">$250000</span></button>
                <button class="material-shop-item" id="buyQuantum">Quantum <span class="material-cost">$500000</span></button>
                <button class="material-shop-item" id="buyDarkmatter">Dark Matter <span class="material-cost">$1000000</span></button>
                <button class="material-shop-item" id="buyAntimatter">Antimatter <span class="material-cost">$2500000</span></button>
                <button class="material-shop-item" id="buyCosmic">Cosmic <span class="material-cost">$5000000</span></button>
                <button class="material-shop-item" id="buyVoid">Void <span class="material-cost">$10000000</span></button>
                <button class="material-shop-item" id="buyCrystal">Crystal <span class="material-cost">$20000000</span></button>
                <button class="material-shop-item" id="buyMythril">Mythril <span class="material-cost">$40000000</span></button>
                <button class="material-shop-item" id="buyOrichalcum">Orichalcum <span class="material-cost">$80000000</span></button>
                <button class="material-shop-item" id="buyEtherium">Etherium <span class="material-cost">$160000000</span></button>
                <button class="material-shop-item" id="buyChronium">Chronium <span class="material-cost">$320000000</span></button>
                <button class="material-shop-item" id="buyAstral">Astral <span class="material-cost">$640000000</span></button>
                <button class="material-shop-item" id="buyNexus">Nexus <span class="material-cost">$800000000</span></button>
                <button class="material-shop-item" id="buyParadox">Paradox <span class="material-cost">$900000000</span></button>
                <button class="material-shop-item" id="buyEternity">Eternity <span class="material-cost">$950000000</span></button>
            </div>
        </div>
    </div>

    <script>
        const resource = document.getElementById('resource');
        const hammer = document.getElementById('hammer');
        const hitButton = document.getElementById('hitButton');
        const progressBar = document.getElementById('progressBar');
        const materialButtons = document.querySelectorAll('.material-button');
        const moneyDisplay = document.getElementById('moneyCount');
        const powerDisplay = document.getElementById('powerCount');
        const shop = document.getElementById('shop');
        const upgradeButtons = document.querySelectorAll('.shop-item');
        const shopButton = document.getElementById('shopButton');
        
        let currentMaterial = 'wood';
        let money = 0;
        let hammerPower = 0.5;
        let progress = 0;
        let isHitting = false;
        let purchasedUpgrades = new Set();
        let unlockedMaterials = new Set(['paper']);
        let ownedMaterials = {
            paper: 0,
            plastic: 0,
            glass: 0,
            cardboard: 0,
            foam: 0,
            wood: 0,
            rock: 0,
            clay: 0,
            sand: 0,
            copper: 0,
            bronze: 0,
            brass: 0,
            iron: 0,
            steel: 0,
            gold: 0,
            electrum: 0,
            silver: 0,
            platinum: 0,
            ruby: 0,
            garnet: 0,
            spinel: 0,
            amethyst: 0,
            tanzanite: 0,
            aquamarine: 0,
            peridot: 0,
            emerald: 0,
            sapphire: 0,
            topaz: 0,
            diamond: 0,
            moon: 0,
            rubber: 0,
            concrete: 0,
            emerald: 0,
            obsidian: 0,
            titanium: 0,
            platinum: 0,
            uranium: 0,
            netherite: 0,
            vibranium: 0,
            adamantium: 0,
            unobtainium: 0,
            quantum: 0,
            darkmatter: 0,
            antimatter: 0,
            cosmic: 0,
            void: 0,
            crystal: 0,
            mythril: 0,
            orichalcum: 0,
            etherium: 0,
            chronium: 0,
            astral: 0,
            nexus: 0,
            paradox: 0,
            eternity: 0
        };
        
        const materialCosts = {
            paper: 1,
            plastic: 2,
            glass: 3,
            cardboard: 4,
            foam: 4,
            wood: 5,
            rock: 10,
            clay: 12,
            sand: 14,
            copper: 16,
            bronze: 18,
            brass: 20,
            iron: 25,
            steel: 40,
            gold: 100,
            electrum: 125,
            silver: 150,
            platinum: 175,
            ruby: 200,
            garnet: 210,
            spinel: 215,
            amethyst: 220,
            tanzanite: 225,
            aquamarine: 230,
            peridot: 235,
            emerald: 240,
            sapphire: 250,
            topaz: 275,
            diamond: 300,
            moon: 1000,
            rubber: 1500,
            concrete: 2000,
            emerald: 3000,
            obsidian: 5000,
            titanium: 7500,
            platinum: 10000,
            uranium: 15000,
            netherite: 25000,
            vibranium: 50000,
            adamantium: 100000,
            unobtainium: 250000,
            quantum: 500000,
            darkmatter: 1000000,
            antimatter: 2500000,
            cosmic: 5000000,
            void: 10000000,
            crystal: 20000000,
            mythril: 40000000,
            orichalcum: 80000000,
            etherium: 160000000,
            chronium: 320000000,
            astral: 640000000,
            nexus: 800000000,
            paradox: 900000000,
            eternity: 950000000
        };

        const materialProperties = {
            paper: { color: '#FFFFFF', hits: 1, value: 1, money: 2 },
            plastic: { color: '#ADD8E6', hits: 2, value: 1, money: 3 },
            glass: { color: '#87CEEB', hits: 3, value: 1, money: 4 },
            cardboard: { color: '#DEB887', hits: 4, value: 1, money: 5 },
            foam: { color: '#F0F8FF', hits: 4, value: 1, money: 5 },
            wood: { color: '#8B4513', hits: 5, value: 1, money: 5 },
            rock: { color: '#808080', hits: 15, value: 2, money: 15 },
            clay: { color: '#CD7F32', hits: 18, value: 2, money: 18 },
            sand: { color: '#F4A460', hits: 20, value: 2, money: 21 },
            copper: { color: '#B87333', hits: 22, value: 2, money: 24 },
            bronze: { color: '#CD7F32', hits: 24, value: 2, money: 27 },
            brass: { color: '#B5A642', hits: 26, value: 2, money: 30 },
            iron: { color: '#A19D94', hits: 30, value: 3, money: 30 },
            steel: { color: '#71797E', hits: 50, value: 4, money: 60 },
            gold: { color: '#FFD700', hits: 80, value: 5, money: 150 },
            electrum: { color: '#E6BE8A', hits: 85, value: 5.5, money: 175 },
            silver: { color: '#C0C0C0', hits: 90, value: 6, money: 200 },
            platinum: { color: '#E5E4E2', hits: 95, value: 6.5, money: 225 },
            ruby: { color: '#E0115F', hits: 100, value: 7, money: 250 },
            garnet: { color: '#9A2A2A', hits: 102, value: 7.2, money: 260 },
            spinel: { color: '#FF69B4', hits: 103, value: 7.3, money: 265 },
            amethyst: { color: '#9966CC', hits: 104, value: 7.4, money: 270 },
            tanzanite: { color: '#9370DB', hits: 105, value: 7.5, money: 275 },
            aquamarine: { color: '#7FFFD4', hits: 106, value: 7.6, money: 280 },
            peridot: { color: '#98FB98', hits: 107, value: 7.7, money: 285 },
            emerald: { color: '#50C878', hits: 108, value: 7.8, money: 290 },
            sapphire: { color: '#0F52BA', hits: 110, value: 8, money: 300 },
            topaz: { color: '#FFC87C', hits: 115, value: 8.5, money: 325 },
            diamond: { color: '#B9F2FF', hits: 120, value: 9, money: 400 },
            moon: { color: '#E6E6FA', hits: 200, value: 7, money: 1500 },
            rubber: { color: '#FF69B4', hits: 3, value: 1, money: 2000 },
            concrete: { color: '#708090', hits: 300, value: 10, money: 2500 },
            emerald: { color: '#50C878', hits: 150, value: 8, money: 3500 },
            obsidian: { color: '#4B0082', hits: 400, value: 12, money: 6000 },
            titanium: { color: '#C0C0C0', hits: 500, value: 15, money: 8500 },
            platinum: { color: '#E5E4E2', hits: 600, value: 20, money: 12000 },
            uranium: { color: '#00FF00', hits: 800, value: 25, money: 18000 },
            netherite: { color: '#4A4A4A', hits: 1000, value: 30, money: 30000 },
            vibranium: { color: '#4169E1', hits: 1500, value: 40, money: 75000 },
            adamantium: { color: '#C0C0C0', hits: 2000, value: 50, money: 150000 },
            unobtainium: { color: '#FF1493', hits: 2500, value: 60, money: 375000 },
            quantum: { color: '#00FFFF', hits: 3000, value: 70, money: 750000 },
            darkmatter: { color: '#000000', hits: 4000, value: 80, money: 1500000 },
            antimatter: { color: '#FF4500', hits: 5000, value: 90, money: 3750000 },
            cosmic: { color: '#9400D3', hits: 6000, value: 100, money: 7500000 },
            void: { color: '#4B0082', hits: 8000, value: 120, money: 15000000 },
            crystal: { color: '#E6E6FA', hits: 10000, value: 150, money: 30000000 },
            mythril: { color: '#B0E0E6', hits: 12000, value: 180, money: 60000000 },
            orichalcum: { color: '#CD853F', hits: 15000, value: 220, money: 120000000 },
            etherium: { color: '#9370DB', hits: 18000, value: 260, money: 240000000 },
            chronium: { color: '#20B2AA', hits: 20000, value: 300, money: 480000000 },
            astral: { color: '#FF69B4', hits: 25000, value: 350, money: 960000000 },
            nexus: { color: '#00CED1', hits: 30000, value: 400, money: 1200000000 },
            paradox: { color: '#FF4500', hits: 35000, value: 450, money: 1350000000 },
            eternity: { color: '#8A2BE2', hits: 40000, value: 500, money: 1425000000 }
        };

        const upgradeCosts = {
            upgrade1: 20,    // Was 50
            upgrade2: 75,    // Was 200
            upgrade3: 300,   // Was 1000
            upgrade4: 1000,  // Was 5000
            upgrade5: 3000,  // Was 15000
            upgrade6: 10000, // Was 50000
            upgrade7: 40000, // Was 200000
            upgrade8: 150000, // Was 1000000
            upgrade9: 500000, // Everlasting Hammer
            upgrade10: 2000000, // End Hammer
            upgrade11: 5000000, // Reality Hammer
            upgrade12: 10000000, // Dimension Hammer
            upgrade13: 25000000, // Time Hammer
            upgrade14: 50000000, // Space Hammer
            upgrade15: 100000000, // Void Hammer
            upgrade16: 250000000, // Chaos Hammer
            upgrade17: 500000000, // Order Hammer
            upgrade18: 750000000, // Creation Hammer
            winButton: 1000000000 // 1 billion dollars
        };

        const upgradePowers = {
            upgrade1: 1.5,
            upgrade2: 3,
            upgrade3: 6,
            upgrade4: 12,
            upgrade5: 25,
            upgrade6: 50,
            upgrade7: 100,
            upgrade8: 250,
            upgrade9: 500, // Everlasting Hammer power
            upgrade10: 5000, // End Hammer power
            upgrade11: 10000, // Reality Hammer power
            upgrade12: 20000, // Dimension Hammer power
            upgrade13: 50000, // Time Hammer power
            upgrade14: 100000, // Space Hammer power
            upgrade15: 200000, // Void Hammer power
            upgrade16: 500000, // Chaos Hammer power
            upgrade17: 1000000, // Order Hammer power
            upgrade18: 2000000, // Creation Hammer power
            winButton: 0
        };

        function updateMoneyDisplay() {
            moneyDisplay.textContent = money;
            updateShopButtons();
        }

        function updatePowerDisplay() {
            powerDisplay.textContent = hammerPower.toFixed(1);
        }

        function updateShopButtons() {
            upgradeButtons.forEach(button => {
                const cost = upgradeCosts[button.id];
                if (purchasedUpgrades.has(button.id)) {
                    button.disabled = true;
                    button.textContent = 'Purchased';
                    button.style.background = '#666';
                } else {
                    button.disabled = money < cost;
                    button.style.background = money >= cost ? '#4CAF50' : '#666';
                }
            });
            updateMaterialButtons();
        }

        function purchaseUpgrade(upgradeId) {
            const cost = upgradeCosts[upgradeId];
            if (money >= cost && !purchasedUpgrades.has(upgradeId)) {
                money -= cost;
                if (upgradeId === 'winButton') {
                    alert('Congratulations! You have won the game!');
                    return;
                }
                hammerPower = upgradePowers[upgradeId];
                purchasedUpgrades.add(upgradeId);
                
                updateMoneyDisplay();
                updatePowerDisplay();
                updateShopButtons();
                
                // Special effects for premium and legendary upgrades
                if (upgradeId === 'upgrade5' || upgradeId === 'upgrade6') {
                    createParticles(
                        document.getElementById('hammer').getBoundingClientRect().left,
                        document.getElementById('hammer').getBoundingClientRect().top,
                        '#FFD700'
                    );
                } else if (upgradeId === 'upgrade7' || upgradeId === 'upgrade8') {
                    createParticles(
                        document.getElementById('hammer').getBoundingClientRect().left,
                        document.getElementById('hammer').getBoundingClientRect().top,
                        '#FFA500'
                    );
                }
                
                alert(`Upgraded to ${hammerPower}x power!`);
            }
        }

        function updateResourceDisplay() {
            // This function is now empty since we don't need to update the display
        }

        function createParticles(x, y, color) {
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.background = color;
                
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 5 + 2;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed;
                
                document.getElementById('game').appendChild(particle);
                
                let posX = x;
                let posY = y;
                
                const particleLoop = setInterval(() => {
                    posX += vx;
                    posY += vy;
                    particle.style.left = posX + 'px';
                    particle.style.top = posY + 'px';
                    
                    if (parseFloat(particle.style.opacity) <= 0) {
                        particle.remove();
                        clearInterval(particleLoop);
                    }
                }, 20);
            }
        }

        function updateMaterialSelection() {
            const selectionArea = document.getElementById('materialSelection');
            selectionArea.innerHTML = '';
            
            Object.keys(materialProperties).forEach(material => {
                const slot = document.createElement('div');
                slot.className = `material-slot ${material}`;
                slot.dataset.material = material;
                
                if (unlockedMaterials.has(material)) {
                    slot.classList.add('available');
                    slot.innerHTML = material.charAt(0).toUpperCase();
                    
                    // Add count display
                    const count = document.createElement('div');
                    count.className = 'material-count';
                    count.textContent = `Owned: ${ownedMaterials[material]}`;
                    slot.appendChild(count);
                    
                    // Hide slot if no materials owned
                    if (ownedMaterials[material] <= 0) {
                        slot.classList.add('empty');
                    }
                    
                    if (material === currentMaterial) {
                        slot.classList.add('selected');
                    }
                    
                    slot.addEventListener('click', () => {
                        if (ownedMaterials[material] > 0) {
                            currentMaterial = material;
                            resource.style.background = materialProperties[material].color;
                            progress = 0;
                            progressBar.style.width = '0%';
                            
                            // Update selection UI
                            document.querySelectorAll('.material-slot').forEach(s => s.classList.remove('selected'));
                            slot.classList.add('selected');
                        }
                    });
                } else {
                    slot.innerHTML = '?';
                }
                
                selectionArea.appendChild(slot);
            });
        }

        function hit() {
            if (isHitting || ownedMaterials[currentMaterial] <= 0) return;
            isHitting = true;

            const rect = resource.getBoundingClientRect();
            const gameRect = document.getElementById('game').getBoundingClientRect();
            
            // Animate hammer
            hammer.style.transform = 'rotate(-45deg)';
            setTimeout(() => {
                hammer.style.transform = 'rotate(0deg)';
                isHitting = false;
            }, 200);

            // Animate resource
            resource.style.transform = 'scale(0.9)';
            setTimeout(() => {
                resource.style.transform = 'scale(1)';
            }, 100);

            // Create particles
            createParticles(
                rect.left - gameRect.left + rect.width/2,
                rect.top - gameRect.top + rect.height/2,
                materialProperties[currentMaterial].color
            );

            progress += (100 / materialProperties[currentMaterial].hits) * hammerPower;
            progressBar.style.width = `${Math.min(progress, 100)}%`;

            if (progress >= 100) {
                if (ownedMaterials[currentMaterial] > 0) {
                    ownedMaterials[currentMaterial]--;
                    money += materialProperties[currentMaterial].money;
                    updateMoneyDisplay();
                    updateMaterialSelection();
                    progress = 0;
                    progressBar.style.width = '0%';
                    
                    // If we run out of the current material, switch to the first available one
                    if (ownedMaterials[currentMaterial] <= 0) {
                        const availableMaterial = Object.keys(materialProperties).find(m => 
                            unlockedMaterials.has(m) && ownedMaterials[m] > 0
                        );
                        if (availableMaterial) {
                            currentMaterial = availableMaterial;
                            resource.style.background = materialProperties[currentMaterial].color;
                        } else {
                            // If no materials left, reset to paper
                            currentMaterial = 'paper';
                            resource.style.background = materialProperties[currentMaterial].color;
                        }
                    }
                }
            }
        }

        function buyMaterial(material) {
            const quantity = parseInt(document.getElementById('materialQuantity').value) || 1;
            const cost = materialCosts[material] * quantity;
            if (money >= cost) {
                money -= cost;
                ownedMaterials[material] += quantity;
                unlockedMaterials.add(material);
                currentMaterial = material;
                resource.style.background = materialProperties[material].color;
                progress = 0;
                progressBar.style.width = '0%';
                updateMoneyDisplay();
                updateMaterialButtons();
                updateMaterialSelection();
            }
        }

        function initGame() {
            money = 1; // Start with enough for 1 paper
            hammerPower = 0.5;
            purchasedUpgrades.clear();
            currentMaterial = 'paper';
            ownedMaterials = {
                paper: 0,
                plastic: 0,
                glass: 0,
                cardboard: 0,
                foam: 0,
                wood: 0,
                rock: 0,
                clay: 0,
                sand: 0,
                copper: 0,
                bronze: 0,
                brass: 0,
                iron: 0,
                steel: 0,
                gold: 0,
                electrum: 0,
                silver: 0,
                platinum: 0,
                ruby: 0,
                garnet: 0,
                spinel: 0,
                amethyst: 0,
                tanzanite: 0,
                aquamarine: 0,
                peridot: 0,
                emerald: 0,
                sapphire: 0,
                topaz: 0,
                diamond: 0,
                moon: 0,
                rubber: 0,
                concrete: 0,
                emerald: 0,
                obsidian: 0,
                titanium: 0,
                platinum: 0,
                uranium: 0,
                netherite: 0,
                vibranium: 0,
                adamantium: 0,
                unobtainium: 0,
                quantum: 0,
                darkmatter: 0,
                antimatter: 0,
                cosmic: 0,
                void: 0,
                crystal: 0,
                mythril: 0,
                orichalcum: 0,
                etherium: 0,
                chronium: 0,
                astral: 0,
                nexus: 0,
                paradox: 0,
                eternity: 0
            };
            unlockedMaterials = new Set(['paper']);
            resource.style.background = materialProperties[currentMaterial].color;
            updateMoneyDisplay();
            updatePowerDisplay();
            updateShopButtons();
            updateMaterialSelection();
        }

        function updateMaterialButtons() {
            document.querySelectorAll('.material-shop-item').forEach(button => {
                const material = button.id.replace('buy', '').toLowerCase();
                const cost = materialCosts[material];
                button.disabled = money < cost;
                button.style.background = money >= cost ? '#4CAF50' : '#666';
            });
        }

        // Add event listeners for material shop buttons
        document.querySelectorAll('.material-shop-item').forEach(button => {
            button.addEventListener('click', () => {
                const material = button.id.replace('buy', '').toLowerCase();
                buyMaterial(material);
            });
        });

        // Add event listeners for shop tabs
        document.querySelectorAll('.shop-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and contents
                document.querySelectorAll('.shop-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.shop-content').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding content
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab + 'Tab').classList.add('active');
            });
        });

        // Add event listeners
        upgradeButtons.forEach(button => {
            button.addEventListener('click', () => {
                purchaseUpgrade(button.id);
            });
        });

        hitButton.addEventListener('click', hit);
        document.getElementById('closeShop').addEventListener('click', () => {
            shop.style.display = 'none';
        });
        document.getElementById('shopButton').addEventListener('click', () => {
            shop.style.display = shop.style.display === 'none' ? 'block' : 'none';
        });
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                hit();
            } else if (e.code === 'KeyS') {
                shop.style.display = shop.style.display === 'none' ? 'block' : 'none';
            } else if (e.code === 'Escape') {
                shop.style.display = 'none';
            }
        });

        // Initialize the game
        initGame();

        // Add debug info
        const debugInfo = document.createElement('div');
        debugInfo.style.position = 'absolute';
        debugInfo.style.top = '10px';
        debugInfo.style.left = '10px';
        debugInfo.style.background = 'rgba(0,0,0,0.7)';
        debugInfo.style.color = 'white';
        debugInfo.style.padding = '10px';
        debugInfo.style.borderRadius = '5px';
        debugInfo.style.fontSize = '12px';
        debugInfo.style.zIndex = '1000';
        document.body.appendChild(debugInfo);

        function updateDebugInfo() {
            debugInfo.innerHTML = `
                Money: $${money}<br>
                Hammer Power: ${hammerPower}x<br>
                Purchased Upgrades: ${Array.from(purchasedUpgrades).join(', ')}
            `;
        }

        // Update debug info every second
        setInterval(updateDebugInfo, 1000);
    </script>
</body>
</html>
